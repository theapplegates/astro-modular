/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Bt=Object.create;var be=Object.defineProperty,Rt=Object.defineProperties,Wt=Object.getOwnPropertyDescriptor,Gt=Object.getOwnPropertyDescriptors,Ft=Object.getOwnPropertyNames,nt=Object.getOwnPropertySymbols,Vt=Object.getPrototypeOf,rt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var dt=(t,e,s)=>e in t?be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,re=(t,e)=>{for(var s in e||(e={}))rt.call(e,s)&&dt(t,s,e[s]);if(nt)for(var s of nt(e))zt.call(e,s)&&dt(t,s,e[s]);return t},We=(t,e)=>Rt(t,Gt(e)),lt=t=>be(t,"__esModule",{value:!0});var Ut=(t,e)=>{lt(t);for(var s in e)be(t,s,{get:e[s],enumerable:!0})},Yt=(t,e,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ft(e))!rt.call(t,o)&&o!=="default"&&be(t,o,{get:()=>e[o],enumerable:!(s=Wt(e,o))||s.enumerable});return t},N=t=>Yt(lt(be(t!=null?Bt(Vt(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var V=(t,e,s)=>new Promise((o,i)=>{var a=l=>{try{d(s.next(l))}catch(r){i(r)}},n=l=>{try{d(s.throw(l))}catch(r){i(r)}},d=l=>l.done?o(l.value):Promise.resolve(l.value).then(a,n);d((s=s.apply(t,e)).next())});Ut(exports,{default:()=>ot});var _t=N(require("obsidian"));var Ge={lightStyle:"minimal-light",darkStyle:"minimal-dark",lightScheme:"minimal-oxygen-light",darkScheme:"minimal-oxygen-dark",editorFont:"",lineHeight:1.5,lineWidth:40,lineWidthWide:50,maxWidth:88,textNormal:16,textSmall:13,imgGrid:!1,imgWidth:"img-default-width",tableWidth:"table-default-width",iframeWidth:"iframe-default-width",mapWidth:"map-default-width",chartWidth:"chart-default-width",colorfulHeadings:!1,colorfulFrame:!1,colorfulActiveStates:!1,trimNames:!0,labeledNav:!1,fullWidthMedia:!0,hideTitleBarOnHover:!0,workspaceBorders:"enhanced",minimalStatus:!0,focusMode:!1,underlineInternal:!0,underlineExternal:!0,folding:!0,lineNumbers:!1,readableLineLength:!1,devBlockWidth:!1,customPresets:[],enableCustomPresets:!0,navIndentationGuideWidth:"0px",navIndentationGuideColor:"rgba(var(--mono-rgb-100), 0.12)",hideTabs:!1,hideStatus:!1,hideScroll:!1,hideSidebarButtons:!1,hideTooltips:!1,hideFileNavButtons:!1,hideSearchSuggestions:!1,hideSearchCounts:!1,hideInstructions:!1,hidePropertiesReading:!1,hideVault:!1,hidePropertiesHeading:!1,hideAddPropertyButton:!1,deemphasizeProperties:!1,autoHideVaultSwitcher:!1,hideHelpButton:!1,autoHideSettingsButton:!1,collapseFileExplorerButtons:!1,autoHideFileExplorerNavHeader:!1,autoHideOtherNavHeaders:!1,autoHideLeftTabHeaders:!1,autoHideRightTabHeaders:!1,collapseOtherNavHeaders:!1,autoCollapseRibbon:!1,animationPersonality:"default",animationSpeed:1};var wt=N(require("obsidian"));var Ce=N(require("obsidian"));function ct(t,e){let o=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});o.createEl("div",{text:"Color scheme",cls:"setting-item-name"});let i=o.createEl("div",{cls:"setting-item-description"});i.appendChild(createEl("span",{text:"To create a custom color scheme use the "})),i.appendChild(createEl("a",{text:"Style Settings",href:"obsidian://show-plugin?id=obsidian-style-settings"})),i.appendText(" plugin. See "),i.appendChild(createEl("a",{text:"Documentation",href:"https://minimal.guide/features/color-schemes"})),i.appendText(" for details."),new Ce.Setting(t).setName("Light mode color scheme").setDesc("Preset color options for light mode.").addDropdown(a=>{a.addOption("minimal-oxygen-light","Oxygen").addOption("minimal-minimal-light","Minimal").addOption("minimal-atom-light","Atom").addOption("minimal-ayu-light","Ayu").addOption("minimal-catppuccin-light","Catppuccin").addOption("minimal-eink-light","E-ink (beta)").addOption("minimal-everforest-light","Everforest").addOption("minimal-flexoki-light","Flexoki").addOption("minimal-gruvbox-light","Gruvbox").addOption("minimal-macos-light","macOS").addOption("minimal-nord-light","Nord").addOption("minimal-rose-pine-light","Ros\xE9 Pine").addOption("minimal-notion-light","Sky").addOption("minimal-solarized-light","Solarized").addOption("minimal-things-light","Things"),e.settings.enableCustomPresets&&e.settings.customPresets.length>0&&(a.addOption("","\u2500\u2500\u2500\u2500\u2500\u2500 Custom presets \u2500\u2500\u2500\u2500\u2500\u2500"),e.settings.customPresets.sort((n,d)=>n.name.localeCompare(d.name)).forEach(n=>{a.addOption(`minimal-custom-${n.id}`,n.name)})),a.setValue(e.settings.lightScheme).onChange(n=>{e.settings.lightScheme=n,e.saveData(e.settings),e.updateStyle(),e.updateCustomPresetCSS()})}),new Ce.Setting(t).setName("Light mode background contrast").setDesc("Level of contrast between sidebar and main content.").addDropdown(a=>a.addOption("minimal-light","Default").addOption("minimal-light-white","All white").addOption("minimal-light-tonal","Low contrast").addOption("minimal-light-contrast","High contrast").setValue(e.settings.lightStyle).onChange(n=>{e.settings.lightStyle=n,e.saveData(e.settings),document.body.classList.contains("theme-light")&&e.updateLightStyle()})),new Ce.Setting(t).setName("Dark mode color scheme").setDesc("Preset colors options for dark mode.").addDropdown(a=>{a.addOption("minimal-oxygen-dark","Oxygen").addOption("minimal-minimal-dark","Minimal").addOption("minimal-atom-dark","Atom").addOption("minimal-ayu-dark","Ayu").addOption("minimal-catppuccin-dark","Catppuccin").addOption("minimal-dracula-dark","Dracula").addOption("minimal-eink-dark","E-ink (beta)").addOption("minimal-everforest-dark","Everforest").addOption("minimal-flexoki-dark","Flexoki").addOption("minimal-gruvbox-dark","Gruvbox").addOption("minimal-macos-dark","macOS").addOption("minimal-nord-dark","Nord").addOption("minimal-rose-pine-dark","Ros\xE9 Pine").addOption("minimal-notion-dark","Sky").addOption("minimal-solarized-dark","Solarized").addOption("minimal-things-dark","Things"),e.settings.enableCustomPresets&&e.settings.customPresets.length>0&&(a.addOption("","\u2500\u2500\u2500\u2500\u2500\u2500 Custom presets \u2500\u2500\u2500\u2500\u2500\u2500"),e.settings.customPresets.sort((n,d)=>n.name.localeCompare(d.name)).forEach(n=>{a.addOption(`minimal-custom-${n.id}`,n.name)})),a.setValue(e.settings.darkScheme).onChange(n=>{e.settings.darkScheme=n,e.saveData(e.settings),e.updateStyle(),e.updateCustomPresetCSS()})}),new Ce.Setting(t).setName("Dark mode background contrast").setDesc("Level of contrast between sidebar and main content.").addDropdown(a=>a.addOption("minimal-dark","Default").addOption("minimal-dark-tonal","Low contrast").addOption("minimal-dark-black","True black").setValue(e.settings.darkStyle).onChange(n=>{e.settings.darkStyle=n,e.saveData(e.settings),document.body.classList.contains("theme-dark")&&e.updateDarkStyle()}))}var $=N(require("obsidian"));function mt(t,e){t.createEl("br");let o=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});o.createEl("div",{text:"Features",cls:"setting-item-name"});let i=o.createEl("div",{cls:"setting-item-description"});i.appendChild(createEl("span",{text:"See "})),i.appendChild(createEl("a",{text:"Documentation",href:"https://minimal.guide"})),i.appendText(" for details."),new $.Setting(t).setName("Text labels for primary navigation").setDesc("Navigation items in the left sidebar uses text labels.").addToggle(a=>a.setValue(e.settings.labeledNav).onChange(n=>{e.settings.labeledNav=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Colorful window frame").setDesc("The top area of the app uses your accent color.").addToggle(a=>a.setValue(e.settings.colorfulFrame).onChange(n=>{e.settings.colorfulFrame=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Colorful active states").setDesc("Active file and menu items use your accent color.").addToggle(a=>a.setValue(e.settings.colorfulActiveStates).onChange(n=>{e.settings.colorfulActiveStates=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Colorful headings").setDesc("Headings use a different color for each size.").addToggle(a=>a.setValue(e.settings.colorfulHeadings).onChange(n=>{e.settings.colorfulHeadings=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Minimal status bar").setDesc("Turn off to use full-width status bar.").addToggle(a=>a.setValue(e.settings.minimalStatus).onChange(n=>{e.settings.minimalStatus=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Trim file names in sidebars").setDesc("Use ellipses to fit file names on a single line.").addToggle(a=>a.setValue(e.settings.trimNames).onChange(n=>{e.settings.trimNames=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Borders").setDesc("Border style for workspace elements.").addDropdown(a=>a.addOption("enhanced","Enhanced").addOption("default","Default").addOption("none","None").setValue(e.settings.workspaceBorders).onChange(n=>{e.settings.workspaceBorders=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Indentation guides thickness").setDesc("Thickness of indentation guides in the sidebar file explorer.").addDropdown(a=>a.addOption("0px","None").addOption("1px","Thin").addOption("2px","Medium").addOption("3px","Thick").setValue(e.settings.navIndentationGuideWidth).onChange(n=>{e.settings.navIndentationGuideWidth=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Indentation guides color").setDesc("Color of indentation guides in the sidebar.").addDropdown(a=>a.addOption("rgba(var(--mono-rgb-100), 0.12)","Subtle").addOption("var(--text-faint)","Strong").addOption("var(--color-accent)","Accent color").setValue(e.settings.navIndentationGuideColor).onChange(n=>{e.settings.navIndentationGuideColor=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Underline internal links").setDesc("Show underlines on internal links.").addToggle(a=>a.setValue(e.settings.underlineInternal).onChange(n=>{e.settings.underlineInternal=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Underline external links").setDesc("Show underlines on external links.").addToggle(a=>a.setValue(e.settings.underlineExternal).onChange(n=>{e.settings.underlineExternal=n,e.saveData(e.settings),e.refresh()})),new $.Setting(t).setName("Maximize media").setDesc("Images and videos fill the width of the line.").addToggle(a=>a.setValue(e.settings.fullWidthMedia).onChange(n=>{e.settings.fullWidthMedia=n,e.saveData(e.settings),e.refresh()}))}var b=N(require("obsidian"));function ht(t,e){t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Hider",cls:"setting-item-name"}),new b.Setting(t).setName("Focus mode").setDesc("Hide tab bar and status bar, hover to display. Can be toggled via hotkey.").addToggle(i=>i.setValue(e.settings.focusMode).onChange(a=>{e.settings.focusMode=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Auto-hide title bar").setDesc("Hide title bar until hover. Turn off to always show.").addToggle(i=>i.setValue(e.settings.hideTitleBarOnHover).onChange(a=>{e.settings.hideTitleBarOnHover=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-hide file explorer nav header").setDesc("Hide file explorer navigation header until hover. Elegantly reveals on hover.").addToggle(i=>i.setValue(e.settings.autoHideFileExplorerNavHeader).onChange(a=>{e.settings.autoHideFileExplorerNavHeader=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-hide other nav headers").setDesc("Hide navigation headers for tag, backlinks, outgoing links, outline, and bookmarks panes until hover.").addToggle(i=>i.setValue(e.settings.autoHideOtherNavHeaders).onChange(a=>{e.settings.autoHideOtherNavHeaders=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-hide left tab headers").setDesc("Hide left panel tab headers until hover. Elegantly reveals on hover.").addToggle(i=>i.setValue(e.settings.autoHideLeftTabHeaders).onChange(a=>{e.settings.autoHideLeftTabHeaders=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-hide right tab headers").setDesc("Hide right panel tab headers until hover. Elegantly reveals on hover.").addToggle(i=>i.setValue(e.settings.autoHideRightTabHeaders).onChange(a=>{e.settings.autoHideRightTabHeaders=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-collapse ribbon").setDesc("Collapse the left ribbon to a thin strip until hover. Elegantly expands on hover.").addToggle(i=>i.setValue(e.settings.autoCollapseRibbon).onChange(a=>{e.settings.autoCollapseRibbon=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-hide vault switcher").setDesc('Hide vault switcher until hover. Does not work when "Hide vault name" is enabled.').addToggle(i=>i.setValue(e.settings.autoHideVaultSwitcher).onChange(a=>{e.settings.autoHideVaultSwitcher=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Auto-hide settings button").setDesc("Hide settings button until hover. Elegantly reveals on hover.").addToggle(i=>i.setValue(e.settings.autoHideSettingsButton).onChange(a=>{e.settings.autoHideSettingsButton=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Hide help button").setDesc("Hides the help button in the vault profile area.").addToggle(i=>i.setValue(e.settings.hideHelpButton).onChange(a=>{e.settings.hideHelpButton=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide vault name").setDesc("Hides your vault profile. Warning: this also hides access to the Settings and vault switcher icons. You can use hotkeys or the command palette to open them.").addToggle(i=>i.setValue(e.settings.hideVault).onChange(a=>{e.settings.hideVault=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Hide tab bar").setDesc("Hides the tab container at the top of the window.").addToggle(i=>i.setValue(e.settings.hideTabs).onChange(a=>{e.settings.hideTabs=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide file explorer buttons").setDesc("Hides buttons at the top of file explorer (new file, new folder, etc).").addToggle(i=>i.setValue(e.settings.hideFileNavButtons).onChange(a=>{e.settings.hideFileNavButtons=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Collapse all other navigation bars").setDesc("Collapse navigation bars (excluding file explorer) to a small indicator until hover.").addToggle(i=>i.setValue(e.settings.collapseOtherNavHeaders).onChange(a=>{e.settings.collapseOtherNavHeaders=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Hide status bar").setDesc("Hides word count, character count and backlink count.").addToggle(i=>i.setValue(e.settings.hideStatus).onChange(a=>{e.settings.hideStatus=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide scroll bars").setDesc("Hides all scroll bars.").addToggle(i=>i.setValue(e.settings.hideScroll).onChange(a=>{e.settings.hideScroll=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide sidebar toggle buttons").setDesc("Hides both sidebar buttons.").addToggle(i=>i.setValue(e.settings.hideSidebarButtons).onChange(a=>{e.settings.hideSidebarButtons=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide tooltips").setDesc("Hides all tooltips.").addToggle(i=>i.setValue(e.settings.hideTooltips).onChange(a=>{e.settings.hideTooltips=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Hide search suggestions").setDesc("Hides suggestions in search pane.").addToggle(i=>i.setValue(e.settings.hideSearchSuggestions).onChange(a=>{e.settings.hideSearchSuggestions=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide count of search term matches").setDesc("Hides the number of matches within each search result.").addToggle(i=>i.setValue(e.settings.hideSearchCounts).onChange(a=>{e.settings.hideSearchCounts=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Hide properties in Reading view").setDesc("Hides the properties section in Reading view.").addToggle(i=>i.setValue(e.settings.hidePropertiesReading).onChange(a=>{e.settings.hidePropertiesReading=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Hide properties heading").setDesc('Hide "Properties" heading above properties.').addToggle(i=>i.setValue(e.settings.hidePropertiesHeading).onChange(a=>{e.settings.hidePropertiesHeading=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName('Hide "Add property" button').setDesc('Hide "Add property" button below properties.').addToggle(i=>i.setValue(e.settings.hideAddPropertyButton).onChange(a=>{e.settings.hideAddPropertyButton=a,e.saveData(e.settings),e.refresh()})),new b.Setting(t).setName("Deemphasize properties").setDesc("Softens visual prominence of file properties. They become more visible on hover.").addToggle(i=>i.setValue(e.settings.deemphasizeProperties).onChange(a=>{e.settings.deemphasizeProperties=a,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new b.Setting(t).setName("Hide instructions").setDesc("Hides instructional tips in modals.").addToggle(i=>i.setValue(e.settings.hideInstructions).onChange(a=>{e.settings.hideInstructions=a,e.saveData(e.settings),e.refresh()}))}var de=N(require("obsidian"));function gt(t,e){t.createEl("br");let o=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});o.createEl("div",{text:"Layout",cls:"setting-item-name"});let i=o.createEl("div",{cls:"setting-item-description"});i.appendChild(createEl("span",{text:"These options can also be defined on a per-file basis, see "})),i.appendChild(createEl("a",{text:"Documentation",href:"https://minimal.guide/features/block-width"})),i.appendText(" for details."),new de.Setting(t).setName("Image grids").setDesc("Turn consecutive images into columns \u2014 to make a new row, add an extra line break between images.").addToggle(a=>a.setValue(e.settings.imgGrid).onChange(n=>{e.settings.imgGrid=n,e.saveData(e.settings),e.refresh()})),new de.Setting(t).setName("Chart width").setDesc("Default width for chart blocks.").addDropdown(a=>a.addOption("chart-default-width","Default").addOption("chart-wide","Wide line width").addOption("chart-max","Maximum line width").addOption("chart-100","100% pane width").setValue(e.settings.chartWidth).onChange(n=>{e.settings.chartWidth=n,e.saveData(e.settings),e.refresh()})),new de.Setting(t).setName("Iframe width").setDesc("Default width for iframe blocks.").addDropdown(a=>a.addOption("iframe-default-width","Default").addOption("iframe-wide","Wide line width").addOption("iframe-max","Maximum line width").addOption("iframe-100","100% pane width").setValue(e.settings.iframeWidth).onChange(n=>{e.settings.iframeWidth=n,e.saveData(e.settings),e.refresh()})),new de.Setting(t).setName("Image width").setDesc("Default width for image blocks.").addDropdown(a=>a.addOption("img-default-width","Default").addOption("img-wide","Wide line width").addOption("img-max","Maximum line width").addOption("img-100","100% pane width").setValue(e.settings.imgWidth).onChange(n=>{e.settings.imgWidth=n,e.saveData(e.settings),e.refresh()})),new de.Setting(t).setName("Map width").setDesc("Default width for map blocks.").addDropdown(a=>a.addOption("map-default-width","Default").addOption("map-wide","Wide line width").addOption("map-max","Maximum line width").addOption("map-100","100% pane width").setValue(e.settings.mapWidth).onChange(n=>{e.settings.mapWidth=n,e.saveData(e.settings),e.refresh()})),new de.Setting(t).setName("Table width").setDesc("Default width for table and Dataview blocks.").addDropdown(a=>a.addOption("table-default-width","Default").addOption("table-wide","Wide line width").addOption("table-max","Maximum line width").addOption("table-100","100% pane width").setValue(e.settings.tableWidth).onChange(n=>{e.settings.tableWidth=n,e.saveData(e.settings),e.refresh()}))}var ee=N(require("obsidian"));function ut(t,e){t.createEl("br"),t.createEl("div",{text:"Typography",cls:"setting-item setting-item-heading"}),new ee.Setting(t).setName("Text font size").setDesc("Used for the main text (default 16).").addText(s=>s.setPlaceholder("16").setValue((e.settings.textNormal||"")+"").onChange(o=>{e.settings.textNormal=parseFloat(o),e.saveData(e.settings),e.setFontSize()})),new ee.Setting(t).setName("Small font size").setDesc("Used for text in the sidebars and tabs (default 13).").addText(s=>s.setPlaceholder("13").setValue((e.settings.textSmall||"")+"").onChange(o=>{e.settings.textSmall=parseFloat(o),e.saveData(e.settings),e.refresh()})),new ee.Setting(t).setName("Line height").setDesc("Line height of text (default 1.5).").addText(s=>s.setPlaceholder("1.5").setValue((e.settings.lineHeight||"")+"").onChange(o=>{e.settings.lineHeight=parseFloat(o),e.saveData(e.settings),e.refresh()})),new ee.Setting(t).setName("Normal line width").setDesc("Number of characters per line (default 40).").addText(s=>s.setPlaceholder("40").setValue((e.settings.lineWidth||"")+"").onChange(o=>{e.settings.lineWidth=parseInt(o.trim()),e.saveData(e.settings),e.refresh()})),new ee.Setting(t).setName("Wide line width").setDesc("Number of characters per line for wide elements (default 50).").addText(s=>s.setPlaceholder("50").setValue((e.settings.lineWidthWide||"")+"").onChange(o=>{e.settings.lineWidthWide=parseInt(o.trim()),e.saveData(e.settings),e.refresh()})),new ee.Setting(t).setName("Maximum line width %").setDesc("Percentage of space inside a pane that a line can fill (default 88).").addText(s=>s.setPlaceholder("88").setValue((e.settings.maxWidth||"")+"").onChange(o=>{e.settings.maxWidth=parseInt(o.trim()),e.saveData(e.settings),e.refresh()})),new ee.Setting(t).setName("Editor font").setDesc("Overrides the text font defined in Obsidian appearance settings when in edit mode.").addText(s=>s.setPlaceholder("").setValue((e.settings.editorFont||"")+"").onChange(o=>{e.settings.editorFont=o,e.saveData(e.settings),e.refresh()}))}var we=N(require("obsidian"));function le(t,e){for(let[s,o]of Object.entries(e))t.style.setProperty(s,o)}function D(t,e,s){t.style.setProperty(e,s)}function ft(t){t=t.replace("#","");let e=parseInt(t.substring(0,2),16)/255,s=parseInt(t.substring(2,4),16)/255,o=parseInt(t.substring(4,6),16)/255,i=Math.max(e,s,o),a=Math.min(e,s,o),n=0,d=0,l=(i+a)/2;if(i!==a){let r=i-a;switch(d=l>.5?r/(2-i-a):r/(i+a),i){case e:n=(s-o)/r+(s<o?6:0);break;case s:n=(o-e)/r+2;break;case o:n=(e-s)/r+4;break}n/=6}return{h:Math.round(n*360),s:Math.round(d*100),l:Math.round(l*100)}}function f(t){let e=t.h/360,s=t.s/100,o=t.l/100,i=(r,m,c)=>(c<0&&(c+=1),c>1&&(c-=1),c<1/6?r+(m-r)*6*c:c<1/2?m:c<2/3?r+(m-r)*(2/3-c)*6:r),a,n,d;if(s===0)a=n=d=o;else{let r=o<.5?o*(1+s):o+s-o*s,m=2*o-r;a=i(m,r,e+1/3),n=i(m,r,e),d=i(m,r,e-1/3)}let l=r=>{let m=Math.round(r*255).toString(16);return m.length===1?"0"+m:m};return`#${l(a)}${l(n)}${l(d)}`}function Fe(t){return/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/.test(t)}function pt(t){let e=document.createElement("div");e.className="custom-preset-swatch";let s=f(t.light.base),o=f(t.light.accent),i=f(t.dark.base);return le(e,{"--swatch-gradient-start":s,"--swatch-gradient-mid":o,"--swatch-gradient-end":i}),e}function Ve(t){return t.trim().replace(/[<>:"/\\|?*]/g,"")}function ze(t){return Ve(t).toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").substring(0,50)}function vt(t){return/^[a-z0-9-]+$/.test(t)&&t.length>0&&t.length<=50}function bt(t,e,s){return!e.some(o=>o.id===t&&o.id!==s)}var q=class{static validatePresetId(e,s,o){return vt(e)&&bt(e,s,o)}static sanitizePresetName(e){return Ve(e)}static createPreset(e,s="",o=[]){let i=this.sanitizePresetName(e);if(!i)throw new Error("Preset name cannot be empty");let a=ze(i),n=1;for(;!this.validatePresetId(a,o);)a=`${ze(i)}-${n}`,n++;return{id:a,name:i,author:s.trim(),version:"1.0.0",light:{base:{h:210,s:2,l:96},accent:{h:200,s:80,l:50},colors:{}},dark:{base:{h:210,s:2,l:13},accent:{h:200,s:80,l:50},colors:{}}}}static updatePreset(e,s,o){let i=o.find(n=>n.id===e);if(!i)throw new Error(`Preset with ID "${e}" not found`);let a=re(re({},i),s);if(s.id&&s.id!==e&&!this.validatePresetId(s.id,o,e))throw new Error(`Preset ID "${s.id}" is invalid or already exists`);if(s.name&&(a.name=this.sanitizePresetName(s.name),!a.name))throw new Error("Preset name cannot be empty");return a}static deletePreset(e,s){return s.filter(o=>o.id!==e)}static exportPresetAsJSON(e){return JSON.stringify(e,null,2)}static importPresetFromJSON(e){try{let s=JSON.parse(e);if(!s.id||!s.name||!s.light||!s.dark)throw new Error("Invalid preset format: missing required fields");if(!s.light.base||!s.light.accent||!s.dark.base||!s.dark.accent)throw new Error("Invalid preset format: missing base or accent colors");let o=a=>a&&typeof a.h=="number"&&a.h>=0&&a.h<=360&&typeof a.s=="number"&&a.s>=0&&a.s<=100&&typeof a.l=="number"&&a.l>=0&&a.l<=100;if(!o(s.light.base)||!o(s.light.accent)||!o(s.dark.base)||!o(s.dark.accent))throw new Error("Invalid preset format: HSL values out of range");let i={id:this.sanitizePresetName(s.id),name:this.sanitizePresetName(s.name),author:s.author||"",version:s.version||"1.0.0",light:{base:s.light.base,accent:s.light.accent,colors:s.light.colors||{},frameLightnessOffset:s.light.frameLightnessOffset},dark:{base:s.dark.base,accent:s.dark.accent,colors:s.dark.colors||{},frameLightnessOffset:s.dark.frameLightnessOffset}};if(!i.id||!i.name)throw new Error("Invalid preset format: ID or name is empty after sanitization");return i}catch(s){throw s instanceof SyntaxError?new Error("Invalid JSON format"):s}}static getPresetById(e,s){return s.find(o=>o.id===e)}static isPresetActive(e,s,o){return s===`minimal-custom-${e}`||o===`minimal-custom-${e}`}static generatePresetPreview(e){var s,o,i,a;return{light:[f(e.light.base),f(e.light.accent),((s=e.light.colors)==null?void 0:s.bg1)||f(e.light.base),((o=e.light.colors)==null?void 0:o.tx1)||f(We(re({},e.light.base),{l:Math.max(0,e.light.base.l-30)}))],dark:[f(e.dark.base),f(e.dark.accent),((i=e.dark.colors)==null?void 0:i.bg1)||f(e.dark.base),((a=e.dark.colors)==null?void 0:a.tx1)||f(We(re({},e.dark.base),{l:Math.min(100,e.dark.base.l+30)}))]}}};var z=N(require("obsidian"));function Pe(t,e){let s=e.base.h,o=e.base.s,i=e.base.l,a=e.accent.h,n=i>50,d={red:"#e74c3c",orange:"#e67e22",yellow:"#f39c12",green:"#27ae60",cyan:"#16a085",blue:"#3498db",purple:"#9b59b6",pink:"#e91e63"};if(d[t])return d[t];let l,r;switch(t){case"bg1":return f({h:s,s:o,l:i});case"bg2":return r=n?Math.max(0,i-5):Math.min(100,i+5),f({h:s,s:o,l:r});case"bg3":return r=n?Math.max(0,i-10):Math.min(100,i+10),f({h:s,s:o,l:r});case"ui1":return r=n?Math.max(0,i-15):Math.min(100,i+15),f({h:s,s:o,l:r});case"ui2":return r=n?Math.max(0,i-10):Math.min(100,i+10),f({h:s,s:o,l:r});case"ui3":return r=n?Math.max(0,i-5):Math.min(100,i+5),f({h:s,s:o,l:r});case"tx1":return l=Math.max(0,o-10),r=n?Math.max(0,i-87):Math.min(100,i+77),f({h:s,s:l,l:r});case"tx2":return l=Math.max(0,o-20),r=n?Math.max(0,i-53):Math.min(100,i+45),f({h:s,s:l,l:r});case"tx3":return l=Math.max(0,o-10),r=n?Math.max(0,i-78):Math.min(100,i+30),f({h:s,s:l,l:r});case"tx4":return l=Math.max(0,o-10),r=n?Math.max(0,i-48):Math.min(100,i+40),f({h:s,s:l,l:r});case"hl1":return f({h:a,s:50,l:40});case"hl2":return"#ffb150";default:return"#000000"}}function Ue(t,e,s){let o=t.createEl("div",{cls:"hsl-controls"}),i=re({},e),a=o.createEl("div",{cls:"color-preview-wrapper"}),n=a.createEl("div",{cls:"color-preview"});D(n,"--preview-color",f(i)),n.title="Click to pick a color with hex input";let d=a.createEl("input",{type:"color",cls:"hsl-color-input-overlay"});d.value=f(i);let l=()=>{let x=f(i);D(n,"--preview-color",x),d.value=x};d.onchange=()=>{let x=ft(d.value);i.h=x.h,i.s=x.s,i.l=x.l,m.value=x.h.toString(),c.textContent=x.h.toString(),p.value=x.s.toString(),h.textContent=x.s.toString(),S.value=x.l.toString(),I.textContent=x.l.toString(),l(),s(i)};let r=o.createEl("div",{cls:"hsl-control"});r.createEl("label",{text:"Hue"});let m=r.createEl("input",{type:"range"});m.min="0",m.max="360";let c=r.createEl("span",{text:e.h.toString()});m.value=e.h.toString(),m.oninput=()=>{i.h=parseInt(m.value),c.textContent=i.h.toString(),l(),s(i)};let g=o.createEl("div",{cls:"hsl-control"});g.createEl("label",{text:"Saturation"});let p=g.createEl("input",{type:"range"});p.min="0",p.max="100";let h=g.createEl("span",{text:e.s.toString()});p.value=e.s.toString(),p.oninput=()=>{i.s=parseInt(p.value),h.textContent=i.s.toString(),l(),s(i)};let M=o.createEl("div",{cls:"hsl-control"});M.createEl("label",{text:"Lightness"});let S=M.createEl("input",{type:"range"});S.min="0",S.max="100";let I=M.createEl("span",{text:e.l.toString()});S.value=e.l.toString(),S.oninput=()=>{i.l=parseInt(S.value),I.textContent=i.l.toString(),l(),s(i)}}function Ye(t,e,s,o,i,a){let n=t.createEl("div",{cls:"color-override collapsible-item"}),d=n.createEl("div",{cls:"override-header"}),l=d.createEl("input",{type:"checkbox"});d.createEl("label",{text:e});let r=d.createEl("div",{cls:"color-input-wrapper"}),m=r.createEl("div",{cls:"color-preview-swatch"}),c=r.createEl("input",{type:"color",cls:"hsl-color-input-overlay"});c.disabled=!0;let g=null,p=h=>{D(m,"--preview-color",h),c.value=h};if(o[s])l.checked=!0,c.disabled=!1,p(o[s]),g=o[s];else{let h=Pe(s,i);p(h),g=h}return c.onclick=()=>{if(!l.checked){l.checked=!0,c.disabled=!1;let h=g||o[s]||Pe(s,i);o[s]=h,p(h),g=h,a()}},l.onchange=()=>{if(l.checked){c.disabled=!1;let h=g||o[s]||Pe(s,i);o[s]=h,p(h),g=h}else c.disabled=!0,g=o[s]||g,delete o[s];a()},c.onchange=()=>{Fe(c.value)&&(o[s]=c.value,g=c.value,p(c.value),a())},c.oninput=()=>{Fe(c.value)&&(o[s]=c.value,g=c.value,p(c.value),a())},n}var Se=class extends z.Modal{constructor(e,s,o,i){super(e);this.plugin=s,this.isEditing=o!==null,this.preset=o||this.createDefaultPreset(),this.onSave=i}createDefaultPreset(){return q.createPreset("New Preset","",this.plugin.settings.customPresets)}onOpen(){let{contentEl:e}=this;e.empty(),e.addClass("preset-editor-modal"),e.createEl("div",{cls:"modal-header"}).createEl("h2",{text:this.isEditing?"Edit preset":"Create new preset"});let o=e.createEl("div",{cls:"modal-section"});new z.Setting(o).setName("Preset name").setDesc("A unique name for your color preset").addText(c=>{this.nameInput=c.inputEl,c.setValue(this.preset.name).setPlaceholder("Enter preset name").onChange(g=>{this.preset.name=g,this.updatePreview()})}),new z.Setting(o).setName("Author (optional)").setDesc("Your name or the creator of this preset").addText(c=>{this.authorInput=c.inputEl,c.setValue(this.preset.author||"").setPlaceholder("Enter author name").onChange(g=>{this.preset.author=g})});let i=e.createEl("div",{cls:"modes-container"}),a=i.createEl("div",{cls:"mode-section"});a.createEl("h3",{text:"Light mode"}),this.buildModeContent(a,"light");let n=i.createEl("div",{cls:"mode-section"});n.createEl("h3",{text:"Dark mode"}),this.buildModeContent(n,"dark");let d=e.createEl("div",{cls:"modal-section"});d.createEl("h3",{text:"Preview"}),this.previewSwatch=d.createEl("div",{cls:"preview-swatch"}),this.updatePreview();let l=e.createEl("div",{cls:"modal-footer"}),r=l.createEl("button",{text:"Cancel",cls:"mod-cta"});r.onclick=()=>this.close();let m=l.createEl("button",{text:this.isEditing?"Update":"Create",cls:"mod-cta"});m.onclick=()=>this.savePreset()}buildModeContent(e,s){e.empty();let o=s==="light"?this.preset.light:this.preset.dark,i=e.createEl("div",{cls:"color-section"}),a=s==="light"?"Light theme colors":"Dark theme colors";i.createEl("h3",{text:a});let n=i.createEl("div",{cls:"color-group"});n.createEl("label",{text:"Base color"}),Ue(n,o.base,v=>{s==="light"?this.preset.light.base=v:this.preset.dark.base=v,this.updatePreview()});let d=i.createEl("div",{cls:"color-group"});d.createEl("label",{text:"Accent color"}),Ue(d,o.accent,v=>{s==="light"?this.preset.light.accent=v:this.preset.dark.accent=v,this.updatePreview()});let l=i.createEl("div",{cls:"color-group"});l.createEl("label",{text:"Colorful frame lightness override (optional)",cls:"frame-label"});let r=l.createEl("div",{cls:"setting-item-description frame-description"});r.textContent=s==="dark"?"Offset from accent lightness for colorful frame. Default: -25 (darkens by 25%). Leave empty for default.":"Offset from accent lightness for colorful frame. Default: +30 (brightens by 30%). Leave empty for default.";let m=l.createEl("input",{type:"number",cls:"frame-input"});m.placeholder=s==="dark"?"-25":"+30",m.min="-100",m.max="100",m.step="5",o.frameLightnessOffset!==void 0&&(m.value=o.frameLightnessOffset.toString()),m.oninput=()=>{let v=m.value.trim();if(v==="")s==="light"?delete this.preset.light.frameLightnessOffset:delete this.preset.dark.frameLightnessOffset;else{let w=parseInt(v);isNaN(w)||(s==="light"?this.preset.light.frameLightnessOffset=w:this.preset.dark.frameLightnessOffset=w)}this.updatePreview()};let c=e.createEl("div",{cls:"color-section"}),g=c.createEl("div",{cls:"collapsible-header"});g.createEl("h4",{text:"Advanced overrides (optional)"});let p=g.createEl("button",{cls:"collapse-toggle"});(0,z.setIcon)(p,"chevron-down"),o.colors||(o.colors={});let h=[],M=["bg1","bg2","bg3","ui1","ui2","ui3","tx1","tx2","tx3","tx4","hl1","hl2"],S=["Background 1","Background 2","Background 3","UI 1","UI 2","UI 3","Text 1","Text 2","Text 3","Text 4","Highlight 1","Highlight 2"],I=o.colors;M.forEach((v,w)=>{let Y=Ye(c,S[w],v,I,o,()=>this.updatePreview());h.push(Y),Y.addClass("collapsible-content-item")}),p.onclick=()=>{let v=!h[0].classList.contains("expanded");h.forEach(w=>{v?w.addClass("expanded"):w.removeClass("expanded")}),(0,z.setIcon)(p,v?"chevron-up":"chevron-down")};let x=e.createEl("div",{cls:"color-section"}),R=x.createEl("div",{cls:"collapsible-header"});R.createEl("h4",{text:"Syntax colors (optional)"});let W=R.createEl("button",{cls:"collapse-toggle"});(0,z.setIcon)(W,"chevron-down");let U=["red","orange","yellow","green","cyan","blue","purple","pink"],_=[];U.forEach(v=>{let w=Ye(x,v.charAt(0).toUpperCase()+v.slice(1),v,I,o,()=>this.updatePreview());_.push(w),w.addClass("collapsible-content-item")}),W.onclick=()=>{let v=!_[0].classList.contains("expanded");_.forEach(w=>{v?w.addClass("expanded"):w.removeClass("expanded")}),(0,z.setIcon)(W,v?"chevron-up":"chevron-down")}}updatePreview(){this.previewSwatch.empty();let e=this.plugin.settings.customPresets.findIndex(S=>S.id===this.preset.id);if(e!==-1){this.plugin.settings.customPresets[e]=this.preset;let S=`minimal-custom-${this.preset.id}`;(this.plugin.settings.lightScheme===S||this.plugin.settings.darkScheme===S)&&(this.plugin.updateStyle(),this.plugin.updateCustomPresetCSS())}let s=this.preset.light,o=this.preset.dark,i=f(s.base),a=f(s.accent),n=f(o.base),d=f(o.accent),l=this.previewSwatch.createEl("div",{cls:"preview-row"});l.createEl("div",{text:"Light mode",cls:"preview-label"});let r=l.createEl("div",{cls:"preview-colors"}),m=r.createEl("div",{cls:"preview-color"});m.setAttribute("data-color",i),D(m,"--preview-color",i);let c=r.createEl("div",{cls:"preview-color"});c.setAttribute("data-color",a),D(c,"--preview-color",a);let g=this.previewSwatch.createEl("div",{cls:"preview-row"});g.createEl("div",{text:"Dark mode",cls:"preview-label"});let p=g.createEl("div",{cls:"preview-colors"}),h=p.createEl("div",{cls:"preview-color"});h.setAttribute("data-color",n),D(h,"--preview-color",n);let M=p.createEl("div",{cls:"preview-color"});M.setAttribute("data-color",d),D(M,"--preview-color",d)}savePreset(){try{if(!this.preset.name.trim())throw new Error("Preset name is required");this.isEditing||(this.preset.id=q.createPreset(this.preset.name,this.preset.author||"",this.plugin.settings.customPresets).id),this.onSave(this.preset),this.close()}catch(e){console.error("Error saving preset:",e)}}onClose(){let{contentEl:e}=this;e.empty()}};var De=N(require("obsidian"));var xe=class extends De.Modal{constructor(e,s,o){super(e);this.parsedPreset=null;this.plugin=s,this.onImport=o}onOpen(){let{contentEl:e}=this;e.empty(),e.addClass("preset-import-modal"),e.createEl("div",{cls:"modal-header"}).createEl("h2",{text:"Import custom preset"}),e.createEl("div",{cls:"modal-section"}).createEl("p",{text:"Paste a JSON preset below. You can export presets from this plugin or create them manually following the correct format."});let i=e.createEl("div",{cls:"modal-section"});i.createEl("h3",{text:"JSON preset data"}),new De.Setting(i).setName("Preset JSON").setDesc("Paste the complete JSON preset data here").addTextArea(r=>{this.textArea=r.inputEl,this.textArea.addClass("preset-json-input"),r.setPlaceholder("Paste JSON preset data here...").onChange(m=>this.parseJSON(m))});let a=e.createEl("div",{cls:"modal-section"});a.createEl("h3",{text:"Preview"}),this.previewContainer=a.createEl("div",{cls:"preview-container"}),this.previewContainer.createEl("p",{text:"Enter valid JSON to see a preview of the preset",cls:"preview-placeholder"}),e.createEl("div",{cls:"modal-section error-section hidden"}).createEl("div",{cls:"error-message"});let d=e.createEl("div",{cls:"modal-footer"}),l=d.createEl("button",{text:"Cancel",cls:"mod-cta"});l.onclick=()=>this.close(),this.importButton=d.createEl("button",{text:"Import preset",cls:"mod-cta"}),this.importButton.disabled=!0,this.importButton.onclick=()=>this.importPreset()}parseJSON(e){let s=this.contentEl.querySelector(".error-section"),o=this.contentEl.querySelector(".error-message");if(this.parsedPreset=null,this.importButton.disabled=!0,s.addClass("hidden"),this.previewContainer.empty(),!e.trim()){this.previewContainer.createEl("p",{text:"Enter valid JSON to see a preview of the preset",cls:"preview-placeholder"});return}try{if(this.parsedPreset=q.importPresetFromJSON(e),this.plugin.settings.customPresets.find(a=>a.id===this.parsedPreset.id))throw new Error(`A preset with ID "${this.parsedPreset.id}" already exists. Please rename the preset.`);this.showPreview(this.parsedPreset),this.importButton.disabled=!1}catch(i){o.textContent=i instanceof Error?i.message:"Invalid JSON format",s.removeClass("hidden"),this.previewContainer.createEl("p",{text:"Fix the JSON errors above to see a preview",cls:"preview-error"})}}showPreview(e){this.previewContainer.empty();let s=this.previewContainer.createEl("div",{cls:"preset-info"}),o=s.createEl("div",{cls:"info-row"});if(o.createEl("strong",{text:"Name: "}),o.createEl("span",{text:e.name}),e.author){let E=s.createEl("div",{cls:"info-row"});E.createEl("strong",{text:"Author: "}),E.createEl("span",{text:e.author})}let i=s.createEl("div",{cls:"info-row"});i.createEl("strong",{text:"Version: "}),i.createEl("span",{text:e.version||"1.0.0"});let a=s.createEl("div",{cls:"info-row"});a.createEl("strong",{text:"ID: "}),a.createEl("span",{text:e.id,cls:"preset-id"});let n=this.previewContainer.createEl("div",{cls:"color-preview-section"});n.createEl("h4",{text:"Color preview"});let d=n.createEl("div",{cls:"mode-toggle"}),l=d.createEl("button",{text:"Light mode",cls:"mode-btn active"}),r=d.createEl("button",{text:"Dark mode",cls:"mode-btn"}),m=n.createEl("div",{cls:"swatch-container"}),c=m.createEl("div",{cls:"mode-swatches active"}),g=c.createEl("div",{cls:"color-swatch"}),p=`${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%`;g.setAttribute("data-hsl",p),D(g,"--swatch-hsl",p),g.title=`Base: hsl(${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%)`;let h=c.createEl("div",{cls:"color-swatch"}),M=`${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%`;h.setAttribute("data-hsl",M),D(h,"--swatch-hsl",M),h.title=`Accent: hsl(${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%)`;let S=m.createEl("div",{cls:"mode-swatches"}),I=S.createEl("div",{cls:"color-swatch"}),x=`${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%`;I.setAttribute("data-hsl",x),D(I,"--swatch-hsl",x),I.title=`Base: hsl(${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%)`;let R=S.createEl("div",{cls:"color-swatch"}),W=`${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%`;R.setAttribute("data-hsl",W),D(R,"--swatch-hsl",W),R.title=`Accent: hsl(${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%)`,l.onclick=()=>{l.classList.add("active"),r.classList.remove("active"),c.classList.add("active"),S.classList.remove("active")},r.onclick=()=>{r.classList.add("active"),l.classList.remove("active"),S.classList.add("active"),c.classList.remove("active")};let U=this.previewContainer.createEl("div",{cls:"color-details-section"});U.createEl("h4",{text:"Color values"});let _=U.createEl("div",{cls:"mode-details"});_.createEl("h5",{text:"Light mode"});let v=_.createEl("div",{cls:"color-detail"}),w=v.createEl("div",{cls:"detail-swatch"}),Y=`${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%`;w.setAttribute("data-hsl",Y),D(w,"--detail-hsl",Y),v.createEl("span",{text:"Base: "}),v.createEl("span",{text:`hsl(${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%)`});let se=_.createEl("div",{cls:"color-detail"}),ce=se.createEl("div",{cls:"detail-swatch"}),me=`${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%`;ce.setAttribute("data-hsl",me),D(ce,"--detail-hsl",me),se.createEl("span",{text:"Accent: "}),se.createEl("span",{text:`hsl(${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%)`});let ie=U.createEl("div",{cls:"mode-details"});ie.createEl("h5",{text:"Dark mode"});let ae=ie.createEl("div",{cls:"color-detail"}),he=ae.createEl("div",{cls:"detail-swatch"}),ge=`${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%`;he.setAttribute("data-hsl",ge),D(he,"--detail-hsl",ge),ae.createEl("span",{text:"Base: "}),ae.createEl("span",{text:`hsl(${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%)`});let K=ie.createEl("div",{cls:"color-detail"}),X=K.createEl("div",{cls:"detail-swatch"}),Z=`${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%`;X.setAttribute("data-hsl",Z),D(X,"--detail-hsl",Z),K.createEl("span",{text:"Accent: "}),K.createEl("span",{text:`hsl(${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%)`});let oe=Object.keys(e.light.colors||{}).length,Q=Object.keys(e.dark.colors||{}).length;(oe>0||Q>0)&&this.previewContainer.createEl("div",{cls:"overrides-info"}).createEl("p",{text:`Custom overrides: ${oe} light mode, ${Q} dark mode`})}importPreset(){this.parsedPreset&&(this.onImport(this.parsedPreset),this.close())}onClose(){let{contentEl:e}=this;e.empty()}};var Ct=N(require("obsidian")),ye=class extends Ct.Modal{constructor(e,s,o,i="Yes",a="Cancel"){super(e);this.title=s,this.message=o,this.confirmText=i,this.cancelText=a}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:this.title}),e.createEl("p",{text:this.message});let s=e.createDiv("modal-button-container");s.createEl("button",{text:this.cancelText,cls:"mod-cta"}).addEventListener("click",()=>{this.close(),this.resolve(!1)});let i=s.createEl("button",{text:this.confirmText,cls:"mod-cta confirm-button"});i.addEventListener("click",()=>{this.close(),this.resolve(!0)}),i.focus()}onClose(){let{contentEl:e}=this;e.empty()}static show(e,s,o,i="Yes",a="Cancel"){return V(this,null,function*(){return new Promise(n=>{let d=new ye(e,s,o,i,a);d.resolve=n,d.open()})})}};function St(t,e,s,o){if(new we.Setting(t).setName("Enable custom presets").setDesc("Allow creation and use of custom color presets").addToggle(i=>i.setValue(e.settings.enableCustomPresets).onChange(a=>V(this,null,function*(){if(e.settings.enableCustomPresets=a,!a){let n=!1;e.settings.lightScheme.startsWith("minimal-custom-")&&(e.settings.lightScheme="minimal-oxygen-light",n=!0),e.settings.darkScheme.startsWith("minimal-custom-")&&(e.settings.darkScheme="minimal-oxygen-dark",n=!0),n&&(e.updateStyle(),e.updateCustomPresetCSS())}yield e.saveData(e.settings),o()}))),!!e.settings.enableCustomPresets)if(new we.Setting(t).setName("Create new preset").setDesc("Design a custom color scheme from scratch").addExtraButton(i=>i.setIcon("plus").setTooltip("Create new preset").onClick(()=>xt(s,e,null,o))),new we.Setting(t).setName("Import preset").setDesc("Import a preset from JSON data").addExtraButton(i=>i.setIcon("download").setTooltip("Import preset").onClick(()=>Jt(s,e,o))),e.settings.customPresets.length>0){let i=t.createEl("div",{cls:"custom-presets-list"});e.settings.customPresets.sort((a,n)=>a.name.localeCompare(n.name)).forEach(a=>{Kt(i,a,s,e,o)})}else t.createEl("div",{cls:"custom-presets-empty"}).createEl("p",{text:"No custom presets yet. Create your first preset to get started!",cls:"empty-message"})}function Kt(t,e,s,o,i){let a=t.createEl("div",{cls:"custom-preset-item"}),n=a.createEl("div",{cls:"preset-info"}),d=pt(e);n.appendChild(d);let l=n.createEl("div",{cls:"preset-details"});l.createEl("div",{text:e.name,cls:"preset-name"}),e.author&&l.createEl("div",{text:`by ${e.author}`,cls:"preset-author"}),l.createEl("div",{text:e.id,cls:"preset-id preset-id-display"}),new we.Setting(a).setName("").setDesc("").addExtraButton(r=>r.setIcon("edit").setTooltip("Edit preset").onClick(()=>xt(s,o,e,i))).addExtraButton(r=>r.setIcon("download").setTooltip("Export preset").onClick(()=>jt(e))).addExtraButton(r=>r.setIcon("trash").setTooltip("Delete preset").onClick(()=>V(this,null,function*(){return yield qt(s,o,e,i)})))}function xt(t,e,s,o){new Se(t,e,s,a=>{if(s){let d=e.settings.customPresets.findIndex(l=>l.id===s.id);d!==-1&&(e.settings.customPresets[d]=a)}else e.settings.customPresets.push(a);e.saveData(e.settings);let n=`minimal-custom-${a.id}`;(e.settings.lightScheme===n||e.settings.darkScheme===n)&&(e.updateStyle(),e.updateCustomPresetCSS()),o()}).open()}function Jt(t,e,s){new xe(t,e,i=>{e.settings.customPresets.push(i),e.saveData(e.settings),s()}).open()}function jt(t){let e=q.exportPresetAsJSON(t),s=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(s),i=document.createElement("a");i.href=o,i.download=`${t.id}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}function qt(t,e,s,o){return V(this,null,function*(){if(q.isPresetActive(s.id,e.settings.lightScheme,e.settings.darkScheme)){if(!(yield ye.show(t,"Delete active preset","This preset is currently active. Deleting it will switch to the default scheme. Continue?","Delete")))return;e.settings.lightScheme===`minimal-custom-${s.id}`&&(e.settings.lightScheme="minimal-oxygen-light"),e.settings.darkScheme===`minimal-custom-${s.id}`&&(e.settings.darkScheme="minimal-oxygen-dark")}e.settings.customPresets=e.settings.customPresets.filter(a=>a.id!==s.id),yield e.saveData(e.settings),e.updateStyle(),e.updateCustomPresetCSS(),o()})}var Ke=N(require("obsidian"));function yt(t,e){t.createEl("br");let o=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});o.createEl("div",{text:"Animations",cls:"setting-item-name"}),o.createEl("div",{cls:"setting-item-description"}).appendText("Control animation style and speed throughout the theme.");let a;new Ke.Setting(t).setName("Animation personality").setDesc("Choose the animation style: Default (smooth), Playful (bouncy), or Off (disabled).").addDropdown(n=>n.addOption("default","Default").addOption("playful","Playful").addOption("off","Off").setValue(e.settings.animationPersonality||"default").onChange(d=>{e.settings.animationPersonality=d,e.saveData(e.settings),e.refresh(),a&&(a.settingEl.style.display=d==="off"?"none":"")})),a=new Ke.Setting(t).setName("Animation speed").setDesc("Control the speed of animations. Range: 0 (disabled) to 2 (double speed). Default: 1 (normal speed).").addSlider(n=>n.setLimits(0,2,.1).setValue(e.settings.animationSpeed).setDynamicTooltip().onChange(d=>{e.settings.animationSpeed=d,e.saveData(e.settings),e.refresh()})),e.settings.animationPersonality==="off"&&(a.settingEl.style.display="none")}var Je=class extends wt.PluginSettingTab{constructor(e,s){super(e,s);this.plugin=s}display(){let{containerEl:e}=this;e.empty(),ct(e,this.plugin),St(e,this.plugin,this.app,()=>this.display()),mt(e,this.plugin),yt(e,this.plugin),ht(e,this.plugin),gt(e,this.plugin),ut(e,this.plugin)}};var je=class{static generateProperties(e,s){let o=s==="light"?e.light:e.dark,i=o.base.h,a=o.base.s,n=o.base.l,d=o.accent.h,l=o.accent.s,r=o.accent.l,m=s==="light",c=n>50,g=`hsl(${i}, ${a}%, ${n}%)`,p=`hsl(${i}, ${a}%, ${c?Math.max(0,n-5):Math.min(100,n+5)}%)`,h=`hsl(${i}, ${a}%, ${c?Math.max(0,n-10):Math.min(100,n+10)}%)`,M=c?Math.max(0,n-15):Math.min(100,n+15),S=c?Math.max(0,n-10):Math.min(100,n+10),I=c?Math.max(0,n-5):Math.min(100,n+5),x=`hsl(${i}, ${a}%, ${M}%)`,R=`hsl(${i}, ${a}%, ${S}%)`,W=`hsl(${i}, ${a}%, ${I}%)`,U=c?15:85,_=c?25:75,v=c?35:65,w=c?30:70,Y=`hsl(${i}, ${Math.max(0,a-10)}%, ${U}%)`,se=`hsl(${i}, ${Math.max(0,a-20)}%, ${_}%)`,ce=`hsl(${i}, ${Math.max(0,a-10)}%, ${v}%)`,me=`hsl(${i}, ${Math.max(0,a-10)}%, ${w}%)`,ie=`hsla(${d}, 50%, 40%, 30%)`,ae="rgba(255, 177, 80, 0.3)",he=m?"white":"black",ge=(H,k,y)=>{H=H/360,k=k/100,y=y/100;let P=(ne,ve,A)=>(A<0&&(A+=1),A>1&&(A-=1),A<1/6?ne+(ve-ne)*6*A:A<1/2?ve:A<2/3?ne+(ve-ne)*(2/3-A)*6:ne);if(k===0)return[y,y,y];let T=y<.5?y*(1+k):y+k-y*k,F=2*y-T,ue=P(F,T,H+1/3),pe=P(F,T,H),Be=P(F,T,H-1/3);return[ue,pe,Be]},[K,X,Z]=ge(d,l,r),Q=.2126*(K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4))+.7152*(X<=.03928?X/12.92:Math.pow((X+.055)/1.055,2.4))+.0722*(Z<=.03928?Z/12.92:Math.pow((Z+.055)/1.055,2.4))>.5?"black":"white",E={"--base-h":`${i}`,"--base-s":`${a}%`,"--base-l":`${n}%`,"--accent-h":`${d}`,"--accent-s":`${l}%`,"--accent-l":`${r}%`,"--bg1":g,"--bg2":p,"--bg-tab":p,"--bg3":h,"--ui1":x,"--ui2":R,"--ui3":W,"--tx1":Y,"--tx2":se,"--tx3":ce,"--tx4":me,"--hl1":ie,"--hl2":ae,"--sp1":he,"--text-on-accent":Q},J=l,G=c?55:65;if(E["--color-red"]=`hsl(0, ${J}%, ${G}%)`,E["--color-orange"]=`hsl(25, ${J}%, ${G}%)`,E["--color-yellow"]=`hsl(50, ${J}%, ${G}%)`,E["--color-green"]=`hsl(130, ${J}%, ${G}%)`,E["--color-cyan"]=`hsl(180, ${J}%, ${G}%)`,E["--color-blue"]=`hsl(220, ${J}%, ${G}%)`,E["--color-purple"]=`hsl(280, ${J}%, ${G}%)`,E["--color-pink"]=`hsl(330, ${J}%, ${G}%)`,o.frameLightnessOffset!==void 0){let H=r+o.frameLightnessOffset;E["--frame-background-l"]=`${H}%`}return o.colors&&["bg1","bg2","bg3","ui1","ui2","ui3","tx1","tx2","tx3","tx4","hl1","hl2","red","orange","yellow","green","cyan","blue","purple","pink"].forEach(k=>{var P;let y=(P=o.colors)==null?void 0:P[k];if(y)switch(k){case"bg1":case"bg2":case"bg3":case"ui1":case"ui2":case"ui3":case"tx1":case"tx2":case"tx3":case"tx4":case"hl1":case"hl2":E[`--${k}`]=y;break;default:E[`--color-${k}`]=y;break}}),E}static generateCSS(e,s){let o=s==="light"?e.light:e.dark,i=s==="light"?"theme-light":"theme-dark",a=`minimal-custom-${e.id}`,n=`.${i}.${a} {
`,d=o.base.h,l=o.base.s,r=o.base.l,m=o.accent.h,c=o.accent.s,g=o.accent.l,p=s==="light",h=r>50,M=`hsl(${d}, ${l}%, ${r}%)`,S=`hsl(${d}, ${l}%, ${h?Math.max(0,r-5):Math.min(100,r+5)}%)`,I=`hsl(${d}, ${l}%, ${h?Math.max(0,r-10):Math.min(100,r+10)}%)`,x=h?Math.max(0,r-15):Math.min(100,r+15),R=h?Math.max(0,r-10):Math.min(100,r+10),W=h?Math.max(0,r-5):Math.min(100,r+5),U=`hsl(${d}, ${l}%, ${x}%)`,_=`hsl(${d}, ${l}%, ${R}%)`,v=`hsl(${d}, ${l}%, ${W}%)`,w=h?15:85,Y=h?25:75,se=h?35:65,ce=h?30:70,me=`hsl(${d}, ${Math.max(0,l-10)}%, ${w}%)`,ie=`hsl(${d}, ${Math.max(0,l-20)}%, ${Y}%)`,ae=`hsl(${d}, ${Math.max(0,l-10)}%, ${se}%)`,he=`hsl(${d}, ${Math.max(0,l-10)}%, ${ce}%)`,ge=`hsla(${m}, 50%, 40%, 30%)`,K="rgba(255, 177, 80, 0.3)",X=p?"white":"black",Z=(y,P,T)=>{y=y/360,P=P/100,T=T/100;let F=(A,Re,j)=>(j<0&&(j+=1),j>1&&(j-=1),j<1/6?A+(Re-A)*6*j:j<1/2?Re:j<2/3?A+(Re-A)*(2/3-j)*6:A);if(P===0)return[T,T,T];let ue=T<.5?T*(1+P):T+P-T*P,pe=2*T-ue,Be=F(pe,ue,y+1/3),ne=F(pe,ue,y),ve=F(pe,ue,y-1/3);return[Be,ne,ve]},[oe,Q,E]=Z(m,c,g),G=.2126*(oe<=.03928?oe/12.92:Math.pow((oe+.055)/1.055,2.4))+.7152*(Q<=.03928?Q/12.92:Math.pow((Q+.055)/1.055,2.4))+.0722*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))>.5?"black":"white";n+=`  --base-h: ${d};
`,n+=`  --base-s: ${l}%;
`,n+=`  --base-l: ${r}%;
`,n+=`
`,n+=`  --accent-h: ${m};
`,n+=`  --accent-s: ${c}%;
`,n+=`  --accent-l: ${g}%;
`,n+=`
`,n+=`  --bg1: ${M};
`,n+=`  --bg2: ${S};
`,n+=`  --bg-tab: ${S};
`,n+=`  --bg3: ${I};
`,n+=`
`,n+=`  --ui1: ${U};
`,n+=`  --ui2: ${_};
`,n+=`  --ui3: ${v};
`,n+=`
`,n+=`  --tx1: ${me};
`,n+=`  --tx2: ${ie};
`,n+=`  --tx3: ${ae};
`,n+=`  --tx4: ${he};
`,n+=`
`,n+=`  --hl1: ${ge};
`,n+=`  --hl2: ${K};
`,n+=`
`,n+=`  --sp1: ${X};
`,n+=`
`,n+=`  --text-on-accent: ${G};
`,n+=`
`;let H=c,k=h?55:65;return n+=`  --color-red: hsl(0, ${H}%, ${k}%);
`,n+=`  --color-orange: hsl(25, ${H}%, ${k}%);
`,n+=`  --color-yellow: hsl(50, ${H}%, ${k}%);
`,n+=`  --color-green: hsl(130, ${H}%, ${k}%);
`,n+=`  --color-cyan: hsl(180, ${H}%, ${k}%);
`,n+=`  --color-blue: hsl(220, ${H}%, ${k}%);
`,n+=`  --color-purple: hsl(280, ${H}%, ${k}%);
`,n+=`  --color-pink: hsl(330, ${H}%, ${k}%);
`,n+=`
`,o.frameLightnessOffset!==void 0&&(n+=`  --frame-background-l: ${g+o.frameLightnessOffset}%;
`,n+=`
`),o.colors&&["bg1","bg2","bg3","ui1","ui2","ui3","tx1","tx2","tx3","tx4","hl1","hl2","red","orange","yellow","green","cyan","blue","purple","pink"].forEach(P=>{var F;let T=(F=o.colors)==null?void 0:F[P];if(T)switch(P){case"bg1":case"bg2":case"bg3":case"ui1":case"ui2":case"ui3":case"tx1":case"tx2":case"tx3":case"tx4":case"hl1":case"hl2":n+=`  --${P}: ${T};
`;break;default:n+=`  --color-${P}: ${T};
`;break}}),n+=`}
`,n}};var qe=class{constructor(e){this.isUpdating=!1;this.plugin=e}initialize(){!this.plugin.isOxygenThemeActive()||this.updateCSS()}updateCSS(){if(this.isUpdating||!this.plugin.isOxygenThemeActive())return;this.isUpdating=!0,Array.from(document.body.classList).filter(d=>d.startsWith("minimal-custom-")).forEach(d=>document.body.classList.remove(d)),["--base-h","--base-s","--base-l","--accent-h","--accent-s","--accent-l","--bg1","--bg2","--bg-tab","--bg3","--ui1","--ui2","--ui3","--tx1","--tx2","--tx3","--tx4","--hl1","--hl2","--sp1","--text-on-accent","--color-red","--color-orange","--color-yellow","--color-green","--color-cyan","--color-blue","--color-purple","--color-pink","--frame-background-l"].forEach(d=>{document.body.style.removeProperty(d)});let o=this.plugin.settings.customPresets.find(d=>this.plugin.settings.lightScheme===`minimal-custom-${d.id}`),i=this.plugin.settings.customPresets.find(d=>this.plugin.settings.darkScheme===`minimal-custom-${d.id}`),a=document.body.classList.contains("theme-light"),n=a?o:i;if(n){let d=`minimal-custom-${n.id}`;document.body.classList.add(d);let l=a?"light":"dark",r=je.generateProperties(n,l);le(document.body,r)}setTimeout(()=>{this.isUpdating=!1},50)}cleanup(){Array.from(document.body.classList).filter(o=>o.startsWith("minimal-custom-")).forEach(o=>document.body.classList.remove(o)),["--base-h","--base-s","--base-l","--accent-h","--accent-s","--accent-l","--bg1","--bg2","--bg-tab","--bg3","--ui1","--ui2","--ui3","--tx1","--tx2","--tx3","--tx4","--hl1","--hl2","--sp1","--text-on-accent","--color-red","--color-orange","--color-yellow","--color-green","--color-cyan","--color-blue","--color-purple","--color-pink","--frame-background-l"].forEach(o=>{document.body.style.removeProperty(o)})}};var Xe={PLUGIN_THEME:"minimal-theme",THEME_LIGHT:"theme-light",THEME_DARK:"theme-dark",CUSTOM_PRESETS_STYLE:"minimal-custom-presets",THEME_OVERRIDE:"data-theme-override"},He=["minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"],Me=["minimal-dark","minimal-dark-tonal","minimal-dark-black"],Ee=["minimal-oxygen-light","minimal-minimal-light","minimal-atom-light","minimal-ayu-light","minimal-catppuccin-light","minimal-eink-light","minimal-everforest-light","minimal-flexoki-light","minimal-gruvbox-light","minimal-macos-light","minimal-nord-light","minimal-rose-pine-light","minimal-notion-light","minimal-solarized-light","minimal-things-light"],ke=["minimal-oxygen-dark","minimal-minimal-dark","minimal-atom-dark","minimal-ayu-dark","minimal-catppuccin-dark","minimal-dracula-dark","minimal-eink-dark","minimal-everforest-dark","minimal-flexoki-dark","minimal-gruvbox-dark","minimal-macos-dark","minimal-nord-dark","minimal-rose-pine-dark","minimal-notion-dark","minimal-solarized-dark","minimal-things-dark"];var Ae=["table-100","table-default-width","table-wide","table-max"],Oe=["iframe-100","iframe-default-width","iframe-wide","iframe-max"],Ie=["img-100","img-default-width","img-wide","img-max"],$e=["map-100","map-default-width","map-wide","map-max"],Ne=["chart-100","chart-default-width","chart-wide","chart-max"],u={INCREASE_FONT:"increase-body-font-size",DECREASE_FONT:"decrease-body-font-size",CYCLE_DARK_STYLE:"toggle-minimal-dark-cycle",CYCLE_LIGHT_STYLE:"toggle-minimal-light-cycle",TOGGLE_BORDERS:"toggle-hidden-borders",TOGGLE_COLORFUL_HEADINGS:"toggle-colorful-headings",TOGGLE_FOCUS_MODE:"toggle-minimal-focus-mode",TOGGLE_COLORFUL_FRAME:"toggle-minimal-colorful-frame",TOGGLE_IMAGE_GRID:"toggle-minimal-img-grid",TOGGLE_THEME:"toggle-minimal-switch",CYCLE_TABLE_WIDTH:"cycle-minimal-table-width",CYCLE_IMAGE_WIDTH:"cycle-minimal-image-width",CYCLE_IFRAME_WIDTH:"cycle-minimal-iframe-width",CYCLE_CHART_WIDTH:"cycle-minimal-chart-width",CYCLE_MAP_WIDTH:"cycle-minimal-map-width",LIGHT_DEFAULT:"toggle-minimal-light-default",LIGHT_WHITE:"toggle-minimal-light-white",LIGHT_TONAL:"toggle-minimal-light-tonal",LIGHT_CONTRAST:"toggle-minimal-light-contrast",DARK_DEFAULT:"toggle-minimal-dark-default",DARK_TONAL:"toggle-minimal-dark-tonal",DARK_BLACK:"toggle-minimal-dark-black",CREATE_PRESET:"create-custom-preset",IMPORT_PRESET:"import-custom-preset",CYCLE_PRESETS_LIGHT:"cycle-custom-presets-light",CYCLE_PRESETS_DARK:"cycle-custom-presets-dark",DEV_BLOCK_WIDTH:"toggle-minimal-dev-block-width",TOGGLE_TAB_BAR:"toggle-tab-containers",TOGGLE_STATUS_BAR:"toggle-hider-status"};var Ze={FONT_SIZE_NORMAL:16,FONT_SIZE_SMALL:13,LINE_HEIGHT:1.5,LINE_WIDTH:40,LINE_WIDTH_WIDE:50,MAX_WIDTH:88,FONT_STEP:.5},fe={BASE_FONT_SIZE:"baseFontSize",FOLD_HEADING:"foldHeading",SHOW_LINE_NUMBER:"showLineNumber",READABLE_LINE_LENGTH:"readableLineLength",THEME:"theme"},B={LIGHT:"moonstone",DARK:"obsidian",SYSTEM:"system"},Et="Oxygen";var Qe={"minimal-oxygen-light":"Oxygen","minimal-minimal-light":"Minimal","minimal-atom-light":"Atom","minimal-ayu-light":"Ayu","minimal-catppuccin-light":"Catppuccin","minimal-eink-light":"E-ink (beta)","minimal-everforest-light":"Everforest","minimal-flexoki-light":"Flexoki","minimal-gruvbox-light":"Gruvbox","minimal-macos-light":"macOS","minimal-nord-light":"Nord","minimal-rose-pine-light":"Ros\xE9 Pine","minimal-notion-light":"Sky","minimal-solarized-light":"Solarized","minimal-things-light":"Things","minimal-oxygen-dark":"Oxygen","minimal-minimal-dark":"Minimal","minimal-atom-dark":"Atom","minimal-ayu-dark":"Ayu","minimal-catppuccin-dark":"Catppuccin","minimal-dracula-dark":"Dracula","minimal-eink-dark":"E-ink (beta)","minimal-everforest-dark":"Everforest","minimal-flexoki-dark":"Flexoki","minimal-gruvbox-dark":"Gruvbox","minimal-macos-dark":"macOS","minimal-nord-dark":"Nord","minimal-rose-pine-dark":"Ros\xE9 Pine","minimal-notion-dark":"Sky","minimal-solarized-dark":"Solarized","minimal-things-dark":"Things"};function C(t,e){return t.vault.getConfig(e)}function L(t,e,s){t.vault.setConfig(e,s)}function O(t,e){t.setTheme(e)}function kt(t,e){return t.vault.on("config-changed",e)}function Tt(t){let e=t;typeof e.updateFontSize=="function"&&e.updateFontSize()}var et=class{constructor(e){this.cssObserver=null;this.plugin=e,this.customPresetCSS=new qe(e)}initialize(){this.loadRules()}initializeCustomPresets(){this.customPresetCSS.initialize()}cleanup(){this.unloadRules(),this.removeStyle(),this.removeSettings(),this.removeLightScheme(),this.removeDarkScheme(),this.customPresetCSS.cleanup(),this.cssObserver&&(this.cssObserver.disconnect(),this.cssObserver=null)}refresh(){!this.plugin.isOxygenThemeActive()||this.updateStyle()}updateCustomPresetCSS(){this.customPresetCSS.updateCSS()}updateStyle(){if(!this.plugin.isOxygenThemeActive())return;this.removeStyle(),this.removeSettings(),this.plugin.settings.lightStyle&&this.plugin.settings.lightStyle.trim()&&document.body.addClass(this.plugin.settings.lightStyle),this.plugin.settings.darkStyle&&this.plugin.settings.darkStyle.trim()&&document.body.addClass(this.plugin.settings.darkStyle);try{document.body.classList.contains("theme-light")?this.updateLightScheme():document.body.classList.contains("theme-dark")?this.updateDarkScheme():(document.body.addClass("theme-light"),this.updateLightScheme())}catch(n){console.error("Error updating schemes:",n)}let e=this.plugin.settings.workspaceBorders;e==="enhanced"?document.body.classList.remove("borders-none","borders-on"):e==="default"?(document.body.classList.remove("borders-none"),document.body.classList.add("borders-on")):e==="none"&&(document.body.classList.remove("borders-on"),document.body.classList.add("borders-none")),document.body.classList.toggle("colorful-headings",this.plugin.settings.colorfulHeadings),document.body.classList.toggle("colorful-frame",this.plugin.settings.colorfulFrame),document.body.classList.toggle("colorful-active",this.plugin.settings.colorfulActiveStates),document.body.classList.toggle("minimal-focus-mode",this.plugin.settings.focusMode),document.body.classList.toggle("links-int-on",this.plugin.settings.underlineInternal),document.body.classList.toggle("links-ext-on",this.plugin.settings.underlineExternal),document.body.classList.toggle("full-width-media",this.plugin.settings.fullWidthMedia),document.body.classList.toggle("img-grid",this.plugin.settings.imgGrid),document.body.classList.toggle("minimal-dev-block-width",this.plugin.settings.devBlockWidth),document.body.classList.toggle("minimal-status-off",!this.plugin.settings.minimalStatus),document.body.classList.toggle("full-file-names",!this.plugin.settings.trimNames),document.body.classList.toggle("labeled-nav",this.plugin.settings.labeledNav),document.body.classList.toggle("minimal-folding",this.plugin.settings.folding),document.body.classList.toggle("hider-status",this.plugin.settings.hideStatus),document.body.classList.toggle("hider-tabs",this.plugin.settings.hideTabs),document.body.classList.toggle("hider-scroll",this.plugin.settings.hideScroll),document.body.classList.toggle("hider-sidebar-buttons",this.plugin.settings.hideSidebarButtons),document.body.classList.toggle("hider-tooltips",this.plugin.settings.hideTooltips),document.body.classList.toggle("hider-search-suggestions",this.plugin.settings.hideSearchSuggestions),document.body.classList.toggle("hider-file-nav-header",this.plugin.settings.hideFileNavButtons),document.body.classList.toggle("hider-search-counts",this.plugin.settings.hideSearchCounts),document.body.classList.toggle("hider-instructions",this.plugin.settings.hideInstructions),document.body.classList.toggle("hider-meta",this.plugin.settings.hidePropertiesReading),document.body.classList.toggle("hider-vault",this.plugin.settings.hideVault),document.body.classList.toggle("metadata-heading-off",this.plugin.settings.hidePropertiesHeading),document.body.classList.toggle("metadata-add-property-off",this.plugin.settings.hideAddPropertyButton),document.body.classList.toggle("deemphasize-properties",this.plugin.settings.deemphasizeProperties),document.body.classList.toggle("auto-hide-vault-switcher",this.plugin.settings.autoHideVaultSwitcher),document.body.classList.toggle("auto-hide-settings-button",this.plugin.settings.autoHideSettingsButton),document.body.classList.toggle("hider-help-button",this.plugin.settings.hideHelpButton),document.body.classList.toggle("auto-hide-file-explorer-nav-header",this.plugin.settings.autoHideFileExplorerNavHeader),document.body.classList.toggle("auto-hide-other-nav-headers",this.plugin.settings.autoHideOtherNavHeaders),document.body.classList.toggle("auto-hide-left-tab-headers",this.plugin.settings.autoHideLeftTabHeaders),document.body.classList.toggle("auto-hide-right-tab-headers",this.plugin.settings.autoHideRightTabHeaders),document.body.classList.toggle("auto-collapse-ribbon",this.plugin.settings.autoCollapseRibbon),document.body.classList.toggle("collapse-other-nav-headers",this.plugin.settings.collapseOtherNavHeaders),document.body.addClass(this.plugin.settings.chartWidth,this.plugin.settings.tableWidth,this.plugin.settings.imgWidth,this.plugin.settings.iframeWidth,this.plugin.settings.mapWidth);let s={"--font-ui-small":`${this.plugin.settings.textSmall}px`,"--line-height":String(this.plugin.settings.lineHeight),"--line-width":`${this.plugin.settings.lineWidth}rem`,"--line-width-wide":`${this.plugin.settings.lineWidthWide}rem`,"--max-width":`${this.plugin.settings.maxWidth}%`,"--font-editor-override":this.plugin.settings.editorFont},o=this.plugin.settings.navIndentationGuideWidth==="0px",i=this.plugin.settings.navIndentationGuideColor==="rgba(var(--mono-rgb-100), 0.12)";o?document.body.style.removeProperty("--nav-indentation-guide-width"):s["--nav-indentation-guide-width"]=this.plugin.settings.navIndentationGuideWidth,i?document.body.style.removeProperty("--nav-indentation-guide-color"):s["--nav-indentation-guide-color"]=this.plugin.settings.navIndentationGuideColor,le(document.body,s),this.plugin.settings.hideTitleBarOnHover?(document.body.style.removeProperty("--title-bar-always-visible"),document.body.classList.remove("always-show-title-bar")):(le(document.body,{"--title-bar-always-visible":"1"}),document.body.classList.add("always-show-title-bar")),document.body.classList.remove("animations-refined","animations-default","animations-playful","animations-off");let a=this.plugin.settings.animationPersonality||"default";a==="off"?(document.body.classList.add("animations-off"),document.body.style.removeProperty("--anim-speed-modifier")):a==="playful"?(document.body.classList.add("animations-playful"),document.body.style.setProperty("--anim-speed-modifier",this.plugin.settings.animationSpeed.toString())):(document.body.classList.add("animations-default"),document.body.style.setProperty("--anim-speed-modifier",this.plugin.settings.animationSpeed.toString())),this.customPresetCSS.updateCSS()}updateLightStyle(){if(!this.plugin.isOxygenThemeActive())return;document.body.removeClass("theme-dark","minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"),document.body.addClass("theme-light",this.plugin.settings.lightStyle),C(this.plugin.app,"theme")!=="system"&&(O(this.plugin.app,"moonstone"),L(this.plugin.app,"theme","moonstone")),this.plugin.app.workspace.trigger("css-change")}updateDarkStyle(){if(!this.plugin.isOxygenThemeActive())return;document.body.removeClass("theme-light","minimal-dark","minimal-dark-tonal","minimal-dark-black"),document.body.addClass("theme-dark",this.plugin.settings.darkStyle),C(this.plugin.app,"theme")!=="system"&&(O(this.plugin.app,"obsidian"),L(this.plugin.app,"theme","obsidian")),this.plugin.app.workspace.trigger("css-change")}updateLightScheme(){!this.plugin.isOxygenThemeActive()||(this.removeLightScheme(),this.removeDarkScheme(),document.body.classList.contains("theme-light")||(document.body.removeClass("theme-dark"),document.body.addClass("theme-light")),this.plugin.settings.lightScheme&&this.plugin.settings.lightScheme.trim()&&document.body.addClass(this.plugin.settings.lightScheme))}updateDarkScheme(){!this.plugin.isOxygenThemeActive()||(this.removeDarkScheme(),this.removeLightScheme(),document.body.classList.contains("theme-dark")||(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")),this.plugin.settings.darkScheme&&this.plugin.settings.darkScheme.trim()&&document.body.addClass(this.plugin.settings.darkScheme))}removeStyle(){document.body.removeClass("minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white","minimal-dark","minimal-dark-tonal","minimal-dark-black")}removeLightScheme(){document.body.removeClass(...Ee),this.plugin.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}removeDarkScheme(){document.body.removeClass(...ke),this.plugin.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}removeSettings(){document.body.removeClass("borders-none","borders-on","colorful-headings","colorful-frame","colorful-active","minimal-focus-mode","links-int-on","links-ext-on","full-width-media","img-grid","minimal-dev-block-width","minimal-status-off","full-file-names","labeled-nav","minimal-folding","hider-status","hider-tabs","hider-scroll","hider-sidebar-buttons","hider-tooltips","hider-search-suggestions","hider-file-nav-header","hider-search-counts","hider-instructions","hider-meta","hider-vault","metadata-heading-off","metadata-add-property-off","deemphasize-properties","auto-hide-vault-switcher","auto-hide-settings-button","hider-help-button","auto-hide-file-explorer-nav-header","auto-hide-other-nav-headers","auto-hide-left-tab-headers","auto-hide-right-tab-headers","auto-collapse-ribbon","collapse-other-nav-headers","animations-refined","animations-default","animations-playful","animations-off","table-wide","table-max","table-100","table-default-width","iframe-wide","iframe-max","iframe-100","iframe-default-width","img-wide","img-max","img-100","img-default-width","chart-wide","chart-max","chart-100","chart-default-width","map-wide","map-max","map-100","map-default-width")}loadRules(){!this.plugin.isOxygenThemeActive()||(document.body.classList.add(Xe.PLUGIN_THEME),this.updateStyle())}unloadRules(){document.body.style.removeProperty("--font-ui-small"),document.body.style.removeProperty("--line-height"),document.body.style.removeProperty("--line-width"),document.body.style.removeProperty("--line-width-wide"),document.body.style.removeProperty("--max-width"),document.body.style.removeProperty("--font-editor-override"),document.body.style.removeProperty("--nav-indentation-guide-width"),document.body.style.removeProperty("--nav-indentation-guide-color"),document.body.style.removeProperty("--anim-speed-modifier"),document.body.classList.remove(Xe.PLUGIN_THEME),document.body.classList.remove("always-show-title-bar")}setupCSSWatcher(){}};var tt=class{constructor(e){this.plugin=e}updateTheme(){if(C(this.plugin.app,"theme")===B.SYSTEM)document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));else{document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));let o=C(this.plugin.app,"theme")===B.LIGHT?B.DARK:B.LIGHT;O(this.plugin.app,o),L(this.plugin.app,"theme",o)}this.plugin.app.workspace.trigger("css-change")}switchToLight(){document.body.removeClass("theme-dark"),document.body.addClass("theme-light"),C(this.plugin.app,"theme")!==B.SYSTEM&&(O(this.plugin.app,B.LIGHT),L(this.plugin.app,"theme",B.LIGHT)),this.plugin.app.workspace.trigger("css-change")}switchToDark(){document.body.removeClass("theme-light"),document.body.addClass("theme-dark"),C(this.plugin.app,"theme")!==B.SYSTEM&&(O(this.plugin.app,B.DARK),L(this.plugin.app,"theme",B.DARK)),this.plugin.app.workspace.trigger("css-change")}getCurrentMode(){return document.body.classList.contains("theme-light")?"light":"dark"}updateSidebarTheme(){if(!this.plugin.isOxygenThemeActive())return;let e=document.getElementsByClassName("mod-left-split")[0],s=document.getElementsByClassName("side-dock-ribbon")[0];e&&s&&document.body.classList.contains("theme-light")&&this.plugin.settings.lightStyle==="minimal-light-contrast"?(e.addClass("theme-dark"),s.addClass("theme-dark")):e&&s&&(e.removeClass("theme-dark"),s.removeClass("theme-dark"))}cleanupSidebarTheme(){let e=document.getElementsByClassName("mod-left-split")[0];e&&e.removeClass("theme-dark");let s=document.getElementsByClassName("side-dock-ribbon")[0];s&&s.removeClass("theme-dark")}};var st=class{constructor(e){this.plugin=e}setupWatchers(){this.plugin.registerEvent(kt(this.plugin.app,()=>{this.syncFromVault()})),this.plugin.registerEvent(this.plugin.app.workspace.on("css-change",()=>{this.updateSidebarTheme()}))}syncFromVault(e=!1){let s=C(this.plugin.app,fe.BASE_FONT_SIZE);typeof s=="number"&&(this.plugin.settings.textNormal=s),this.plugin.settings.folding=!!C(this.plugin.app,fe.FOLD_HEADING),this.plugin.settings.lineNumbers=!!C(this.plugin.app,fe.SHOW_LINE_NUMBER),this.plugin.settings.readableLineLength=!!C(this.plugin.app,fe.READABLE_LINE_LENGTH);let o=document.body.classList;o.toggle("minimal-folding",this.plugin.settings.folding),o.toggle("minimal-line-nums",this.plugin.settings.lineNumbers),o.toggle("minimal-readable",this.plugin.settings.readableLineLength),o.toggle("minimal-readable-off",!this.plugin.settings.readableLineLength),e||this.plugin.saveData(this.plugin.settings)}setFontSize(){L(this.plugin.app,fe.BASE_FONT_SIZE,this.plugin.settings.textNormal),Tt(this.plugin.app)}updateSidebarTheme(){let e=document.getElementsByClassName("mod-left-split")[0],s=document.getElementsByClassName("side-dock-ribbon")[0];e&&s&&document.body.classList.contains("theme-light")&&this.plugin.settings.lightStyle==="minimal-light-contrast"?(e.addClass("theme-dark"),s.addClass("theme-dark")):e&&s&&(e.removeClass("theme-dark"),s.removeClass("theme-dark"))}cleanup(){}};function Lt(t){t.addCommand({id:u.INCREASE_FONT,name:"Increase body font size",callback:()=>{t.settings.textNormal+=Ze.FONT_STEP,t.saveData(t.settings),Pt(t)}}),t.addCommand({id:u.DECREASE_FONT,name:"Decrease body font size",callback:()=>{t.settings.textNormal-=Ze.FONT_STEP,t.saveData(t.settings),Pt(t)}})}function Pt(t){L(t.app,"baseFontSize",t.settings.textNormal),t.app.updateFontSize()}function Dt(t){Ee.forEach(e=>{let s=Qe[e]||e;t.addCommand({id:`toggle-${e}`,name:`Switch light color scheme to ${s} (light)`,callback:()=>{t.settings.lightScheme=e,t.saveData(t.settings),it(t),Xt(t)}})}),ke.forEach(e=>{let s=Qe[e]||e;t.addCommand({id:`toggle-${e}`,name:`Switch dark color scheme to ${s} (dark)`,callback:()=>{t.settings.darkScheme=e,t.saveData(t.settings),at(t),Zt(t)}})})}function it(t){Ht(t),Mt(t),document.body.classList.contains("theme-light")||(document.body.removeClass("theme-dark"),document.body.addClass("theme-light")),document.body.addClass(t.settings.lightScheme)}function at(t){Mt(t),Ht(t),document.body.classList.contains("theme-dark")||(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")),document.body.addClass(t.settings.darkScheme)}function Xt(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-dark","minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"),document.body.addClass("theme-light",t.settings.lightStyle),C(t.app,"theme")!=="system"&&(O(t.app,"moonstone"),L(t.app,"theme","moonstone")),t.app.workspace.trigger("css-change")}function Zt(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-light","minimal-dark","minimal-dark-tonal","minimal-dark-black"),document.body.addClass("theme-dark",t.settings.darkStyle),C(t.app,"theme")!=="system"&&(O(t.app,"obsidian"),L(t.app,"theme","obsidian")),t.app.workspace.trigger("css-change")}function Ht(t){document.body.removeClass(...Ee),t.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}function Mt(t){document.body.removeClass(...ke),t.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}function At(t){t.addCommand({id:u.CYCLE_DARK_STYLE,name:"Cycle between dark mode styles",callback:()=>{let s=(Me.indexOf(t.settings.darkStyle)+1)%Me.length;t.settings.darkStyle=Me[s],t.saveData(t.settings),_e(t)}}),t.addCommand({id:u.CYCLE_LIGHT_STYLE,name:"Cycle between light mode styles",callback:()=>{let s=(He.indexOf(t.settings.lightStyle)+1)%He.length;t.settings.lightStyle=He[s],t.saveData(t.settings),Te(t)}}),t.addCommand({id:u.LIGHT_DEFAULT,name:"Use light mode (default)",callback:()=>{t.settings.lightStyle="minimal-light",t.settings.lightScheme="minimal-oxygen-light",t.saveData(t.settings),it(t),Te(t)}}),t.addCommand({id:u.LIGHT_WHITE,name:"Use light mode (all white)",callback:()=>{t.settings.lightStyle="minimal-light-white",t.saveData(t.settings),Te(t)}}),t.addCommand({id:u.LIGHT_TONAL,name:"Use light mode (low contrast)",callback:()=>{t.settings.lightStyle="minimal-light-tonal",t.saveData(t.settings),Te(t)}}),t.addCommand({id:u.LIGHT_CONTRAST,name:"Use light mode (high contrast)",callback:()=>{t.settings.lightStyle="minimal-light-contrast",t.saveData(t.settings),Te(t)}}),t.addCommand({id:u.DARK_DEFAULT,name:"Use dark mode (default)",callback:()=>{t.settings.darkStyle="minimal-dark",t.settings.darkScheme="minimal-oxygen-dark",t.saveData(t.settings),at(t),_e(t)}}),t.addCommand({id:u.DARK_TONAL,name:"Use dark mode (low contrast)",callback:()=>{t.settings.darkStyle="minimal-dark-tonal",t.saveData(t.settings),_e(t)}}),t.addCommand({id:u.DARK_BLACK,name:"Use dark mode (true black)",callback:()=>{t.settings.darkStyle="minimal-dark-black",t.saveData(t.settings),_e(t)}})}function Te(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-dark","minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"),document.body.addClass("theme-light",t.settings.lightStyle),C(t.app,"theme")!=="system"&&(O(t.app,"moonstone"),L(t.app,"theme","moonstone")),t.app.workspace.trigger("css-change")}function _e(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-light","minimal-dark","minimal-dark-tonal","minimal-dark-black"),document.body.addClass("theme-dark",t.settings.darkStyle),C(t.app,"theme")!=="system"&&(O(t.app,"obsidian"),L(t.app,"theme","obsidian")),t.app.workspace.trigger("css-change")}function Ot(t){t.addCommand({id:u.CREATE_PRESET,name:"Create custom color preset",callback:()=>{new Se(t.app,t,null,s=>{t.settings.customPresets.push(s),t.saveData(t.settings)}).open()}}),t.addCommand({id:u.IMPORT_PRESET,name:"Import custom color preset",callback:()=>{new xe(t.app,t,s=>{t.settings.customPresets.push(s),t.saveData(t.settings)}).open()}}),t.addCommand({id:u.CYCLE_PRESETS_LIGHT,name:"Cycle through custom presets (light mode)",callback:()=>{if(t.settings.customPresets.length===0)return;let s=(t.settings.customPresets.findIndex(i=>t.settings.lightScheme===`minimal-custom-${i.id}`)+1)%t.settings.customPresets.length,o=t.settings.customPresets[s];t.settings.lightScheme=`minimal-custom-${o.id}`,t.saveData(t.settings),Qt(t)}}),t.addCommand({id:u.CYCLE_PRESETS_DARK,name:"Cycle through custom presets (dark mode)",callback:()=>{if(t.settings.customPresets.length===0)return;let s=(t.settings.customPresets.findIndex(i=>t.settings.darkScheme===`minimal-custom-${i.id}`)+1)%t.settings.customPresets.length,o=t.settings.customPresets[s];t.settings.darkScheme=`minimal-custom-${o.id}`,t.saveData(t.settings),es(t)}})}function Qt(t){t.updateLightScheme()}function es(t){t.updateDarkScheme()}function It(t){t.addCommand({id:u.TOGGLE_BORDERS,name:"Toggle sidebar borders",callback:()=>{let e=t.settings.workspaceBorders;e==="enhanced"?t.settings.workspaceBorders="default":e==="default"?t.settings.workspaceBorders="none":t.settings.workspaceBorders="enhanced",t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_COLORFUL_HEADINGS,name:"Toggle colorful headings",callback:()=>{t.settings.colorfulHeadings=!t.settings.colorfulHeadings,t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_FOCUS_MODE,name:"Toggle focus mode",callback:()=>{t.settings.focusMode=!t.settings.focusMode,t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_COLORFUL_FRAME,name:"Toggle colorful window frame",callback:()=>{t.settings.colorfulFrame=!t.settings.colorfulFrame,t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_IMAGE_GRID,name:"Toggle image grids",callback:()=>{t.settings.imgGrid=!t.settings.imgGrid,t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_THEME,name:"Switch between light and dark mode",callback:()=>{ts(t)}}),t.addCommand({id:u.DEV_BLOCK_WIDTH,name:"Dev \u2014 show block widths",callback:()=>{t.settings.devBlockWidth=!t.settings.devBlockWidth,t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_TAB_BAR,name:"Toggle tab bar",callback:()=>{t.settings.hideTabs=!t.settings.hideTabs,t.saveData(t.settings),te(t)}}),t.addCommand({id:u.TOGGLE_STATUS_BAR,name:"Toggle status bar",callback:()=>{t.settings.hideStatus=!t.settings.hideStatus,t.saveData(t.settings),te(t)}})}function te(t){t.updateStyle()}function ts(t){if(!t.isOxygenThemeActive())return;if(C(t.app,"theme")==="system")document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));else{document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));let o=C(t.app,"theme")==="moonstone"?"obsidian":"moonstone";O(t.app,o),L(t.app,"theme",o)}t.app.workspace.trigger("css-change")}function $t(t){t.addCommand({id:u.CYCLE_TABLE_WIDTH,name:"Cycle between table width options",callback:()=>{let s=(Ae.indexOf(t.settings.tableWidth)+1)%Ae.length;t.settings.tableWidth=Ae[s],t.saveData(t.settings),Le(t)}}),t.addCommand({id:u.CYCLE_IMAGE_WIDTH,name:"Cycle between image width options",callback:()=>{let s=(Ie.indexOf(t.settings.imgWidth)+1)%Ie.length;t.settings.imgWidth=Ie[s],t.saveData(t.settings),Le(t)}}),t.addCommand({id:u.CYCLE_IFRAME_WIDTH,name:"Cycle between iframe width options",callback:()=>{let s=(Oe.indexOf(t.settings.iframeWidth)+1)%Oe.length;t.settings.iframeWidth=Oe[s],t.saveData(t.settings),Le(t)}}),t.addCommand({id:u.CYCLE_CHART_WIDTH,name:"Cycle between chart width options",callback:()=>{let s=(Ne.indexOf(t.settings.chartWidth)+1)%Ne.length;t.settings.chartWidth=Ne[s],t.saveData(t.settings),Le(t)}}),t.addCommand({id:u.CYCLE_MAP_WIDTH,name:"Cycle between map width options",callback:()=>{let s=($e.indexOf(t.settings.mapWidth)+1)%$e.length;t.settings.mapWidth=$e[s],t.saveData(t.settings),Le(t)}})}function Le(t){t.updateStyle()}function Nt(t){Lt(t),At(t),Dt(t),Ot(t),It(t),$t(t)}var ot=class extends _t.Plugin{constructor(){super(...arguments);this._isOxygenActive=!1;this._isInitialized=!1}onload(){return V(this,null,function*(){yield this.loadSettings(),this.styleManager=new et(this),this.themeManager=new tt(this),this.settingsSyncManager=new st(this),this.addSettingTab(new Je(this.app,this)),this._isOxygenActive=this.checkOxygenTheme();let e=document.body.classList.contains("theme-light")?"light":"dark";this._isOxygenActive&&(this.styleManager.initialize(),this._isInitialized=!0),this.settingsSyncManager.setupWatchers(),this.settingsSyncManager.syncFromVault(!0),this.app.workspace.onLayoutReady(()=>{this._isOxygenActive&&this.themeManager.updateSidebarTheme()}),Nt(this);let s,o=e;this.registerEvent(this.app.workspace.on("css-change",()=>{window.clearTimeout(s),s=window.setTimeout(()=>{let i=this.checkOxygenTheme(),a=document.body.classList.contains("theme-light")?"light":"dark",n=o!==null&&o!==a;o=a,this._isOxygenActive&&!i?(this._isOxygenActive=!1,this._isInitialized=!1,this.styleManager.cleanup()):!this._isOxygenActive&&i&&!this._isInitialized?(this._isOxygenActive=!0,this._isInitialized=!0,this.styleManager.initialize()):this._isOxygenActive&&i&&this._isInitialized&&n&&this.styleManager.updateStyle()},100)}))})}onunload(){this.themeManager.cleanupSidebarTheme(),this.styleManager.cleanup(),this.settingsSyncManager.cleanup()}loadSettings(){return V(this,null,function*(){let e=yield this.loadData();this.settings=Object.assign({},Ge,e),this.settings.lightScheme==="minimal-default-light"&&(this.settings.lightScheme="minimal-minimal-light"),this.settings.darkScheme==="minimal-default-dark"&&(this.settings.darkScheme="minimal-minimal-dark"),e&&(e.bordersToggle!==void 0||e.workspaceBordersEnhanced!==void 0)&&e.workspaceBorders===void 0&&(e.bordersToggle===!1?this.settings.workspaceBorders="none":e.workspaceBordersEnhanced===!0?this.settings.workspaceBorders="enhanced":this.settings.workspaceBorders="default",yield this.saveData(this.settings)),this.settings.customPresets||(this.settings.customPresets=[]),this.settings.enableCustomPresets===void 0&&(this.settings.enableCustomPresets=!0),e&&e.animationPersonality==="refined"&&(this.settings.animationPersonality="default",yield this.saveData(this.settings)),this.settings.animationPersonality||(this.settings.animationPersonality="default")})}saveSettings(){return V(this,null,function*(){yield this.saveData(this.settings)})}refresh(){this.styleManager.refresh()}updateStyle(){this.styleManager.updateStyle()}updateLightStyle(){this.styleManager.updateLightStyle()}updateDarkStyle(){this.styleManager.updateDarkStyle()}updateLightScheme(){this.styleManager.updateLightScheme()}updateDarkScheme(){this.styleManager.updateDarkScheme()}updateCustomPresetCSS(){this.styleManager.updateCustomPresetCSS()}setFontSize(){this.settingsSyncManager.setFontSize()}isOxygenThemeActive(){return this._isOxygenActive}checkOxygenTheme(){return C(this.app,"cssTheme")===Et}};
