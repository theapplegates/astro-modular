/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var M=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var $=(a,e)=>{for(var t in e)M(a,t,{get:e[t],enumerable:!0})},G=(a,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of D(e))!F.call(a,n)&&n!==t&&M(a,n,{get:()=>e[n],enumerable:!(i=q(e,n))||i.enumerable});return a};var z=a=>G(M({},"__esModule",{value:!0}),a);var j={};$(j,{default:()=>E});module.exports=z(j);var I=require("obsidian");var O={titleBar:"show",fileExplorerNavHeader:"show",otherNavHeaders:"show",leftTabHeaders:"show",rightTabHeaders:"show",ribbonRevealOnHover:!1,vaultSwitcher:"show",helpButton:"show",settingsButton:"show",tabBar:!1,newNoteButton:!1,newFolderButton:!1,sortOrderButton:!1,autoRevealButton:!1,collapseAllButton:!1,readingModeButton:!1,searchSettingsButton:!1,tabListIcon:"show",newTabIcon:"show",tabCloseButton:"show",statusBar:!1,scrollBars:!1,leftSidebarToggleButton:"show",rightSidebarToggleButton:"show",tooltips:!1,searchSuggestions:!1,searchTermCounts:!1,propertiesInReadingView:!1,propertiesInHeading:!1,addPropertyButton:!1,instructions:!1,mobileChevronsIcon:!1,navigateBackButton:!1,navigateForwardButton:!1,quickSwitcherButton:!1,mobileNewTabButton:!1,openTabButton:!1,ribbonMenuButton:!1,swapMobileNewTabIcon:!1,navigateButtonPosition:"1",navigationButtonPosition:"2",quickSwitcherPosition:"3",newTabPosition:"4",openTabsPosition:"5",ribbonMenuPosition:"6",vaultSwitcherBackgroundTransparency:.9,helpButtonReplacement:{enabled:!1,commandId:"ui-tweaker:open-settings",iconId:"wrench"}};var C=class{constructor(e){this.revealListeners=new Map;this.settings=e}updateSettings(e){this.settings=e,this.applyStyles()}applyStyles(){let e=document.body;this.applyVisibilityState(e,"auto-hide-title-bar",this.settings.titleBar,!0),this.applyVisibilityState(e,"auto-hide-file-explorer-nav-header",this.settings.fileExplorerNavHeader),this.applyVisibilityState(e,"auto-hide-other-nav-headers",this.settings.otherNavHeaders),this.applyVisibilityState(e,"auto-hide-left-tab-headers",this.settings.leftTabHeaders),this.applyVisibilityState(e,"auto-hide-right-tab-headers",this.settings.rightTabHeaders),this.applyVisibilityState(e,"auto-hide-vault-switcher",this.settings.vaultSwitcher),this.applyVisibilityState(e,"hider-help-button",this.settings.helpButton),this.applyVisibilityState(e,"auto-hide-settings-button",this.settings.settingsButton),e.classList.toggle("auto-collapse-ribbon",this.settings.ribbonRevealOnHover),e.classList.toggle("hider-tabs",this.settings.tabBar),e.classList.toggle("hide-button-new-note",this.settings.newNoteButton),e.classList.toggle("hide-button-new-folder",this.settings.newFolderButton),e.classList.toggle("hide-button-sort-order",this.settings.sortOrderButton),e.classList.toggle("hide-button-auto-reveal",this.settings.autoRevealButton),e.classList.toggle("hide-button-collapse-all",this.settings.collapseAllButton),e.classList.toggle("hide-button-reading-mode",this.settings.readingModeButton),e.classList.toggle("hide-button-search-settings",this.settings.searchSettingsButton),this.applyVisibilityState(e,"hide-tab-list-icon",this.settings.tabListIcon),this.applyVisibilityState(e,"hide-new-tab-icon",this.settings.newTabIcon),this.applyVisibilityState(e,"hide-tab-close-button",this.settings.tabCloseButton),e.classList.toggle("hider-status",this.settings.statusBar),e.classList.toggle("hider-scroll",this.settings.scrollBars),this.applyVisibilityState(e,"hider-left-sidebar-button",this.settings.leftSidebarToggleButton),this.applyVisibilityState(e,"hider-right-sidebar-button",this.settings.rightSidebarToggleButton),e.classList.toggle("hider-tooltips",this.settings.tooltips),e.classList.toggle("hider-search-suggestions",this.settings.searchSuggestions),e.classList.toggle("hider-search-counts",this.settings.searchTermCounts),e.classList.toggle("hider-meta",this.settings.propertiesInReadingView),e.classList.toggle("metadata-heading-off",this.settings.propertiesInHeading),e.classList.toggle("metadata-add-property-off",this.settings.addPropertyButton),e.classList.toggle("hider-instructions",this.settings.instructions),e.classList.toggle("hide-icon-mobile-chevrons",this.settings.mobileChevronsIcon),e.classList.toggle("hide-button-mobile-navbar-action-back",this.settings.navigateBackButton),e.classList.toggle("hide-button-mobile-navbar-action-forward",this.settings.navigateForwardButton),e.classList.toggle("hide-button-mobile-navbar-action-quick-switcher",this.settings.quickSwitcherButton),e.classList.toggle("hide-button-mobile-navbar-action-new-tab",this.settings.mobileNewTabButton),e.classList.toggle("hide-button-mobile-navbar-action-tabs",this.settings.openTabButton),e.classList.toggle("hide-button-mobile-navbar-action-menu",this.settings.ribbonMenuButton),e.classList.toggle("swap-mobile-new-tab-icon",this.settings.swapMobileNewTabIcon),Array.from(e.classList).filter(i=>i.startsWith("order-navbar-button-nth-child-")).forEach(i=>e.classList.remove(i)),e.classList.add(`order-navbar-button-nth-child-1-${this.settings.navigateButtonPosition}`),e.classList.add(`order-navbar-button-nth-child-2-${this.settings.navigationButtonPosition}`),e.classList.add(`order-navbar-button-nth-child-3-${this.settings.quickSwitcherPosition}`),e.classList.add(`order-navbar-button-nth-child-4-${this.settings.newTabPosition}`),e.classList.add(`order-navbar-button-nth-child-5-${this.settings.openTabsPosition}`),e.classList.add(`order-navbar-button-nth-child-6-${this.settings.ribbonMenuPosition}`),e.style.setProperty("--auto-hide-vault-switcher-bg-transparency",String(this.settings.vaultSwitcherBackgroundTransparency)),this.settings.vaultSwitcherBackgroundTransparency>=1?e.style.setProperty("--auto-hide-vault-switcher-mask","none"):e.style.setProperty("--auto-hide-vault-switcher-mask","linear-gradient(to top, hsl(0, 0%, 0%) 0%, hsla(0, 0%, 0%, 0.99) 18.4%, hsla(0, 0%, 0%, 0.963) 33.7%, hsla(0, 0%, 0%, 0.92) 46.4%, hsla(0, 0%, 0%, 0.864) 56.7%, hsla(0, 0%, 0%, 0.796) 64.8%, hsla(0, 0%, 0%, 0.72) 71.2%, hsla(0, 0%, 0%, 0.637) 76.1%, hsla(0, 0%, 0%, 0.55) 79.9%, hsla(0, 0%, 0%, 0.46) 82.8%, hsla(0, 0%, 0%, 0.37) 85.2%, hsla(0, 0%, 0%, 0.283) 87.3%, hsla(0, 0%, 0%, 0.2) 89.6%, hsla(0, 0%, 0%, 0.124) 92.3%, hsla(0, 0%, 0%, 0.056) 95.6%, hsla(0, 0%, 0%, 0) 100%)")}applyVisibilityState(e,t,i,n=!1){n?e.classList.remove("always-show-title-bar",`${t}-hide`,`${t}-reveal`):e.classList.remove(`${t}-show`,`${t}-hide`,`${t}-reveal`),i==="show"?n&&e.classList.add("always-show-title-bar"):i==="hide"?e.classList.add(`${t}-hide`):i==="reveal"&&e.classList.add(`${t}-reveal`)}cleanup(){this.revealListeners.forEach(i=>i()),this.revealListeners.clear();let e=document.body,t=[];e.classList.forEach(i=>{(i.startsWith("ui-tweaker-")||i.startsWith("auto-hide-")||i.startsWith("hider-")||i.startsWith("hide-")||i.startsWith("metadata-")||i.startsWith("order-navbar-button-")||i==="auto-collapse-ribbon"||i==="swap-mobile-new-tab-icon"||i==="always-show-title-bar")&&t.push(i)}),t.forEach(i=>e.classList.remove(i)),e.style.removeProperty("--auto-hide-vault-switcher-bg-transparency"),e.style.removeProperty("--auto-hide-vault-switcher-mask")}};function U(a){let{plugin:e,settings:t,saveSettings:i,refresh:n}=a;o(e,"toggle-title-bar","Toggle title bar",()=>{t.titleBar=c(t.titleBar),i(),n()}),o(e,"toggle-file-explorer-nav-header","Toggle file explorer navigation header",()=>{t.fileExplorerNavHeader=c(t.fileExplorerNavHeader),i(),n()}),o(e,"toggle-other-nav-headers","Toggle other navigation headers",()=>{t.otherNavHeaders=c(t.otherNavHeaders),i(),n()}),o(e,"toggle-left-tab-headers","Toggle left tab headers",()=>{t.leftTabHeaders=c(t.leftTabHeaders),i(),n()}),o(e,"toggle-right-tab-headers","Toggle right tab headers",()=>{t.rightTabHeaders=c(t.rightTabHeaders),i(),n()}),o(e,"toggle-vault-switcher","Toggle vault switcher",()=>{t.vaultSwitcher=c(t.vaultSwitcher),i(),n()}),o(e,"toggle-help-button","Toggle help button",()=>{t.helpButton=c(t.helpButton),i(),n()}),o(e,"toggle-settings-button","Toggle settings button",()=>{t.settingsButton=c(t.settingsButton),i(),n()}),e.addCommand({id:"ui-tweaker:open-settings",name:"Open UI Tweaker",callback:()=>{let s=e.app;s.setting.open();let r=e;r.settingTab&&s.setting.openTabById(r.settingTab.id)}}),o(e,"toggle-tab-bar","Toggle tab bar",()=>{t.tabBar=!t.tabBar,i(),n()}),o(e,"toggle-new-note-button","Toggle new note button",()=>{t.newNoteButton=!t.newNoteButton,i(),n()}),o(e,"toggle-new-folder-button","Toggle new folder button",()=>{t.newFolderButton=!t.newFolderButton,i(),n()}),o(e,"toggle-sort-order-button","Toggle sort order button",()=>{t.sortOrderButton=!t.sortOrderButton,i(),n()}),o(e,"toggle-auto-reveal-button","Toggle auto reveal button",()=>{t.autoRevealButton=!t.autoRevealButton,i(),n()}),o(e,"toggle-collapse-all-button","Toggle collapse all button",()=>{t.collapseAllButton=!t.collapseAllButton,i(),n()}),o(e,"toggle-reading-mode-button","Toggle reading mode button",()=>{t.readingModeButton=!t.readingModeButton,i(),n()}),o(e,"toggle-search-settings-button","Toggle search settings button",()=>{t.searchSettingsButton=!t.searchSettingsButton,i(),n()}),o(e,"toggle-tab-list-icon","Toggle tab list icon",()=>{t.tabListIcon=c(t.tabListIcon),i(),n()}),o(e,"toggle-new-tab-icon","Toggle new tab icon",()=>{t.newTabIcon=c(t.newTabIcon),i(),n()}),o(e,"toggle-tab-close-button","Toggle tab close button",()=>{t.tabCloseButton=c(t.tabCloseButton),i(),n()}),o(e,"toggle-status-bar","Toggle status bar",()=>{t.statusBar=!t.statusBar,i(),n()}),o(e,"toggle-scroll-bars","Toggle scroll bars",()=>{t.scrollBars=!t.scrollBars,i(),n()}),o(e,"toggle-left-sidebar-toggle-button","Toggle left sidebar toggle button",()=>{t.leftSidebarToggleButton=c(t.leftSidebarToggleButton),i(),n()}),o(e,"toggle-right-sidebar-toggle-button","Toggle right sidebar toggle button",()=>{t.rightSidebarToggleButton=c(t.rightSidebarToggleButton),i(),n()}),o(e,"toggle-tooltips","Toggle tooltips",()=>{t.tooltips=!t.tooltips,i(),n()}),o(e,"toggle-search-suggestions","Toggle search suggestions",()=>{t.searchSuggestions=!t.searchSuggestions,i(),n()}),o(e,"toggle-search-term-counts","Toggle search term counts",()=>{t.searchTermCounts=!t.searchTermCounts,i(),n()}),o(e,"toggle-properties-reading-view","Toggle properties in Reading view",()=>{t.propertiesInReadingView=!t.propertiesInReadingView,i(),n()}),o(e,"toggle-properties-heading","Toggle properties heading",()=>{t.propertiesInHeading=!t.propertiesInHeading,i(),n()}),o(e,"toggle-add-property-button","Toggle add property button",()=>{t.addPropertyButton=!t.addPropertyButton,i(),n()}),o(e,"toggle-instructions","Toggle instructions",()=>{t.instructions=!t.instructions,i(),n()}),o(e,"toggle-mobile-chevrons-icon","Toggle mobile chevrons icon",()=>{t.mobileChevronsIcon=!t.mobileChevronsIcon,i(),n()}),o(e,"toggle-navigate-back-button","Toggle navigate back button",()=>{t.navigateBackButton=!t.navigateBackButton,i(),n()}),o(e,"toggle-navigate-forward-button","Toggle navigate forward button",()=>{t.navigateForwardButton=!t.navigateForwardButton,i(),n()}),o(e,"toggle-quick-switcher-button","Toggle quick switcher button",()=>{t.quickSwitcherButton=!t.quickSwitcherButton,i(),n()}),o(e,"toggle-mobile-new-tab-button","Toggle mobile new tab button",()=>{t.mobileNewTabButton=!t.mobileNewTabButton,i(),n()}),o(e,"toggle-open-tab-button","Toggle open tab button",()=>{t.openTabButton=!t.openTabButton,i(),n()}),o(e,"toggle-ribbon-menu-button","Toggle ribbon menu button",()=>{t.ribbonMenuButton=!t.ribbonMenuButton,i(),n()})}function o(a,e,t,i){a.addCommand({id:`ui-tweaker:${e}`,name:t,callback:i})}function c(a){return a==="reveal"||a==="show"?"hide":"show"}var A=require("obsidian");var x=require("obsidian"),R=class extends x.FuzzySuggestModal{constructor(t,i){super(t);this.onSelect=i}getItems(){let t=this.app.commands,i=new Map;if(t&&typeof t.listCommands=="function")try{let n=t.listCommands();for(let s of n)s&&s.id&&s.name&&!i.has(s.id)&&i.set(s.id,{id:s.id,name:s.name})}catch(n){console.warn("[UI Tweaker] Error getting commands:",n)}return Array.from(i.values()).sort((n,s)=>n.name.localeCompare(s.name))}getItemText(t){return t.name}onChooseItem(t){this.onSelect(t.id)}};var v=require("obsidian"),W=()=>{if(v.requireApiVersion&&(0,v.requireApiVersion)("1.7.3")&&v.getIconIds)try{return(0,v.getIconIds)()}catch(a){console.warn("[UI Tweaker] Error getting icon IDs from Obsidian:",a)}return["settings-2","settings","help-circle","info","star","heart","bookmark","home","search","bell","mail","user","users","folder","file","file-text","image","video","music","calendar","clock","edit","pencil","trash","copy","cut","paste","download","upload","save","share","link","external-link","lock","unlock","eye","eye-off","key","shield","check","x","plus","minus","arrow-left","arrow-right","arrow-up","arrow-down","chevron-left","chevron-right","chevron-up","chevron-down","menu","more-horizontal","more-vertical","grid","list","layout","columns","rows","maximize","minimize","zoom-in","zoom-out","refresh-cw","play","pause","stop","sun","moon","cloud","zap","wand-2","wand","wand-sparkles","palette","brush","sliders","power","wifi","bluetooth","monitor","laptop","smartphone","camera","mic","headphones","code","terminal","terminal-square","github","gitlab","git-branch","git-commit","database","server","cloud-download","cloud-upload","tag","tags","flag","pin","map-pin","compass","globe","rocket","car","bike","robot","apple","windows","linux","chrome","firefox","safari","credit-card","wallet","coins","book","book-open","award","trophy","badge","wrench","tool","package","box","archive","send","reply","forward","mail-open","tag-plus","tag-minus","flag-off","pin-off","map-pin-off","navigation","map","earth","plane","ship","anchor","helicopter","drone","android","keyhole","keys","fingerprint","scan","qr-code","barcode","receipt","piggy-bank","banknote"]},Q=W().map(a=>({id:a,name:a.replace(/^lucide-/,"").replace(/-/g," ").replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())})).sort((a,e)=>a.name.localeCompare(e.name)),L=class extends v.FuzzySuggestModal{constructor(t,i){super(t);this.onSelect=i}getItems(){return Q}getItemText(t){return t.name}onChooseItem(t,i){this.onSelect(t.id)}renderSuggestion(t,i){let n=t.item;i.addClass("mod-complex"),i.createDiv({cls:"suggestion-content"}).createDiv({cls:"suggestion-title",text:n.name});let r=i.createDiv({cls:"suggestion-aux"});(0,v.setIcon)(r.createSpan({cls:"suggestion-flair"}),n.id)}};var H=require("obsidian");function B(a,e){if((0,H.requireApiVersion)("1.11.0")){let t=e?new H.SettingGroup(a).setHeading(e):new H.SettingGroup(a);return{addSetting(i){t.addSetting(i)}}}else return e&&a.createDiv("setting-group-heading").createEl("h3",{text:e}),{addSetting(t){let i=new H.Setting(a);t(i)}}}var V=class extends A.PluginSettingTab{constructor(t,i){super(t,i);this.plugin=i}display(){var k;let{containerEl:t}=this;t.empty();let i=B(t);this.addVisibilitySetting(i,"Title bar","Hide title bar until hover. Turn off to always show.","titleBar"),this.addVisibilitySetting(i,"File explorer nav header","Hide file explorer navigation header until hover. Elegantly reveals on hover.","fileExplorerNavHeader"),this.addVisibilitySetting(i,"Other nav headers","Hide navigation headers for tag, backlinks, outgoing links, outline, and bookmarks panes until hover.","otherNavHeaders"),this.addVisibilitySetting(i,"Left tab headers","Hide left panel tab headers until hover. Elegantly reveals on hover.","leftTabHeaders"),this.addVisibilitySetting(i,"Right tab headers","Hide right panel tab headers until hover. Elegantly reveals on hover.","rightTabHeaders"),i.addSetting(l=>l.setName("Collapse ribbon").setDesc("Collapse the left ribbon to a thin strip until hover. Elegantly expands on hover.").addToggle(p=>p.setValue(this.plugin.settings.ribbonRevealOnHover).onChange(async S=>{this.plugin.settings.ribbonRevealOnHover=S,await this.plugin.saveSettings(),this.plugin.refresh()})));let n=B(t,"Navigation");this.addToggleSetting(n,"Hide tab bar","Hides the tab container at the top of the window.","tabBar"),this.addToggleSetting(n,'Hide "New note" button','Hide "New note" button in navigation headers.',"newNoteButton"),this.addToggleSetting(n,'Hide "New folder" button','Hide "New folder" button in navigation headers.',"newFolderButton"),this.addToggleSetting(n,'Hide "Sort order" button','Hide "Sort order" button in navigation headers.',"sortOrderButton"),this.addToggleSetting(n,'Hide "Auto-reveal" button','Hide "Auto-reveal" button in navigation headers.',"autoRevealButton"),this.addToggleSetting(n,'Hide "Collapse all" button','Hide "Collapse all" button in navigation headers.',"collapseAllButton"),this.addToggleSetting(n,'Hide "Reading mode" button','Hide "Reading mode" button in view headers.',"readingModeButton"),this.addToggleSetting(n,'Hide "Search settings" button','Hide "Search settings" button in search pane.',"searchSettingsButton");let s=B(t,"Vault profile area");if(this.addVisibilitySetting(s,"Vault switcher","Hide vault switcher until hover. Does not work when vault name is hidden.","vaultSwitcher"),this.addVisibilitySetting(s,"Help button","Hide help button until hover. Elegantly reveals on hover.","helpButton"),this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!1,commandId:"ui-tweaker:open-settings",iconId:"wrench"}),s.addSetting(l=>l.setName("Replace help button with custom action").setDesc("Replace the help button with a custom icon and command. This will hide the original help button and show your custom button instead.").addToggle(p=>p.setValue(this.plugin.settings.helpButtonReplacement.enabled).onChange(async S=>{this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!0,commandId:"ui-tweaker:open-settings",iconId:"wrench"}),this.plugin.settings.helpButtonReplacement.enabled=S,await this.plugin.saveSettings(),this.plugin.refresh();let y=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,b=(y==null?void 0:y.scrollTop)||0;this.display(),requestAnimationFrame(()=>{y&&(y.scrollTop=b)})}))),(k=this.plugin.settings.helpButtonReplacement)!=null&&k.enabled){let p=(b=>{try{let m=this.app.commands;if(m&&m.listCommands){let T=m.listCommands().find(h=>h.id===b);return(T==null?void 0:T.name)||b}}catch(m){console.warn("[UI Tweaker] Error getting command name:",m)}return b})(this.plugin.settings.helpButtonReplacement.commandId);s.addSetting(b=>b.setName("Command").setDesc("Select the command to execute when the button is clicked").addButton(m=>m.setButtonText(p||"Select command...").onClick(()=>{new R(this.app,async T=>{this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),this.plugin.settings.helpButtonReplacement.commandId=T,await this.plugin.saveSettings(),this.plugin.refresh();let h=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,P=(h==null?void 0:h.scrollTop)||0;this.display(),requestAnimationFrame(()=>{h&&(h.scrollTop=P)})}).open()})));let y=(b=>b?b.replace(/^lucide-/,"").split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "):"")(this.plugin.settings.helpButtonReplacement.iconId);s.addSetting(b=>b.setName("Icon").setDesc("Select the icon to display on the button").addButton(m=>m.setButtonText(y||"Select icon...").onClick(()=>{new L(this.app,async T=>{this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!0,commandId:"ui-tweaker:open-settings",iconId:"wrench"}),this.plugin.settings.helpButtonReplacement.iconId=T,await this.plugin.saveSettings(),this.plugin.refresh();let h=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,P=(h==null?void 0:h.scrollTop)||0;this.display(),requestAnimationFrame(()=>{h&&(h.scrollTop=P)})}).open()})))}this.addVisibilitySetting(s,"Settings button","Hide settings button until hover. Elegantly reveals on hover.","settingsButton"),s.addSetting(l=>l.setName("Vault switcher background transparency").setDesc("Adjust the transparency of the vault switcher background when hidden. Range: 0 (fully transparent) to 1 (fully opaque).").addSlider(p=>p.setLimits(0,1,.01).setValue(this.plugin.settings.vaultSwitcherBackgroundTransparency).setDynamicTooltip().onChange(async S=>{this.plugin.settings.vaultSwitcherBackgroundTransparency=S,await this.plugin.saveSettings(),this.plugin.refresh()})));let r=B(t,"Tab icons");this.addVisibilitySetting(r,"Hide tab list icon","Hides the tab list icon. You can still access tabs via other methods.","tabListIcon"),this.addVisibilitySetting(r,"Hide new tab icon","Hides the new tab icon. You can still create new tabs with Ctrl+T (Cmd+T on Mac).","newTabIcon"),this.addVisibilitySetting(r,"Hide tab close button","Hides the close button on tabs. You can still close tabs with middle click or other methods.","tabCloseButton");let g=B(t,"Status & UI elements");this.addToggleSetting(g,"Hide status bar","Hides word count, character count and backlink count.","statusBar"),this.addToggleSetting(g,"Hide scroll bars","Hides all scroll bars.","scrollBars"),this.addVisibilitySetting(g,"Hide left sidebar toggle button","Hides the left sidebar toggle button.","leftSidebarToggleButton"),this.addVisibilitySetting(g,"Hide right sidebar toggle button","Hides the right sidebar toggle button.","rightSidebarToggleButton"),this.addToggleSetting(g,"Hide tooltips","Hides all tooltips.","tooltips"),this.addToggleSetting(g,"Hide instructions","Hides instructional tips in modals.","instructions");let d=B(t,"Search");this.addToggleSetting(d,"Hide search suggestions","Hides suggestions in search pane.","searchSuggestions"),this.addToggleSetting(d,"Hide count of search term matches","Hides the number of matches within each search result.","searchTermCounts");let w=B(t,"Properties");this.addToggleSetting(w,"Hide properties in Reading view","Hides the properties section in Reading view.","propertiesInReadingView"),this.addToggleSetting(w,"Hide properties heading",'Hide "Properties" heading above properties.',"propertiesInHeading"),this.addToggleSetting(w,'Hide "Add property" button','Hide "Add property" button below properties.',"addPropertyButton");let u=B(t,"Mobile");this.addToggleSetting(u,'Hide "Mobile chevrons" icon','Hide "Mobile chevrons" icon in mobile navbar.',"mobileChevronsIcon"),this.addToggleSetting(u,'Hide "Navigate back" button','Hide "Navigate back" button in mobile navbar.',"navigateBackButton"),this.addToggleSetting(u,'Hide "Navigate forward" button','Hide "Navigate forward" button in mobile navbar.',"navigateForwardButton"),this.addToggleSetting(u,'Hide "Quick switcher" button','Hide "Quick switcher" button in mobile navbar.',"quickSwitcherButton"),this.addToggleSetting(u,'Hide "New tab" button','Hide "New tab" button in mobile navbar.',"mobileNewTabButton"),this.addToggleSetting(u,'Hide "Open tabs" button','Hide "Open tabs" button in mobile navbar.',"openTabButton"),this.addToggleSetting(u,'Hide "Ribbon menu" button','Hide "Ribbon menu" button in mobile navbar.',"ribbonMenuButton"),this.addToggleSetting(u,"Swap mobile new tab icon","Replace the new tab plus icon with a home button icon in mobile navbar.","swapMobileNewTabIcon");let f=B(t,"Mobile navigation menu");this.addPositionSetting(f,'"Navigate back" button position','Select the position for the "Navigate back" button (default 1).',"navigateButtonPosition"),this.addPositionSetting(f,'"Navigate forward" button position','Select the position for the "Navigate forward" button (default 2).',"navigationButtonPosition"),this.addPositionSetting(f,'"Quick switcher" button position','Select the position for the "Quick switcher" button (default 3).',"quickSwitcherPosition"),this.addPositionSetting(f,'"New tab" button position','Select the position for the "New tab" button (default 4).',"newTabPosition"),this.addPositionSetting(f,'"Open tabs" button position','Select the position for the "Open tabs" button (default 5).',"openTabsPosition"),this.addPositionSetting(f,'"Ribbon menu" button position','Select the position for the "Ribbon menu" button (default 6).',"ribbonMenuPosition")}addVisibilitySetting(t,i,n,s){t.addSetting(r=>r.setName(i).setDesc(n).addDropdown(g=>{g.addOption("show","Show").addOption("hide","Hide").addOption("reveal","Reveal").setValue(String(this.plugin.settings[s])).onChange(async d=>{this.plugin.settings[s]=d,await this.plugin.saveSettings(),this.plugin.refresh()})}))}addToggleSetting(t,i,n,s){t.addSetting(r=>r.setName(i).setDesc(n).addToggle(g=>g.setValue(Boolean(this.plugin.settings[s])).onChange(async d=>{this.plugin.settings[s]=d,await this.plugin.saveSettings(),this.plugin.refresh()})))}addPositionSetting(t,i,n,s){t.addSetting(r=>r.setName(i).setDesc(n).addDropdown(g=>{for(let d=1;d<=6;d++)g.addOption(String(d),String(d));g.setValue(String(this.plugin.settings[s])).onChange(async d=>{this.plugin.settings[s]=d,await this.plugin.saveSettings(),this.plugin.refresh()})}))}};var E=class extends I.Plugin{async onload(){await this.loadSettings(),this.uiManager=new C(this.settings),this.uiManager.applyStyles(),U({plugin:this,settings:this.settings,saveSettings:()=>this.saveSettings(),refresh:()=>this.refresh()}),this.settingTab=new V(this.app,this),this.addSettingTab(this.settingTab),this.setupHelpButtonReplacement()}onunload(){this.uiManager&&this.uiManager.cleanup(),this.restoreHelpButton(),this.helpButtonObserver&&this.helpButtonObserver.disconnect()}async loadSettings(){this.settings=Object.assign({},O,await this.loadData()),this.settings.helpButtonReplacement?(this.settings.helpButtonReplacement.iconId||(this.settings.helpButtonReplacement.iconId="wrench"),this.settings.helpButtonReplacement.commandId||(this.settings.helpButtonReplacement.commandId="ui-tweaker:open-settings")):this.settings.helpButtonReplacement={enabled:!1,commandId:"",iconId:"settings-2"}}async saveSettings(){await this.saveData(this.settings)}refresh(){this.uiManager&&this.uiManager.updateSettings(this.settings),this.setupHelpButtonReplacement()}setupHelpButtonReplacement(){var i;if(!((i=this.settings.helpButtonReplacement)!=null&&i.enabled)){this.restoreHelpButton();return}this.updateHelpButtonCSS();let t=()=>{var n;(n=this.settings.helpButtonReplacement)!=null&&n.enabled&&this.updateHelpButton()};t(),setTimeout(t,500),setTimeout(()=>{this.setupHelpButtonObserver()},1e3)}updateHelpButtonCSS(){var i;this.helpButtonStyleEl&&this.helpButtonStyleEl.remove(),(this.settings.helpButton==="hide"||((i=this.settings.helpButtonReplacement)==null?void 0:i.enabled))&&(this.helpButtonStyleEl=document.createElement("style"),this.helpButtonStyleEl.id="ui-tweaker-hide-help-button",this.helpButtonStyleEl.textContent=`
				.workspace-drawer-vault-actions .clickable-icon:has(svg.help) {
					display: none !important;
				}
			`,document.head.appendChild(this.helpButtonStyleEl))}async updateHelpButton(){var t,i,n,s,r;if(!((t=this.settings.helpButtonReplacement)!=null&&t.enabled)){this.restoreHelpButton();return}this.helpButtonObserver&&this.helpButtonObserver.disconnect(),await this.loadSettings(),this.updateHelpButtonCSS();try{if(!((i=this.settings.helpButtonReplacement)!=null&&i.enabled)){this.restoreHelpButton();return}let g=document.querySelector(".workspace-drawer-vault-actions");if(!g){this.setupHelpButtonObserver(),setTimeout(()=>{var l;(l=this.settings.helpButtonReplacement)!=null&&l.enabled&&this.updateHelpButton()},500);return}let d=Array.from(g.querySelectorAll(".clickable-icon")),w=null;for(let l of d)if(l.querySelector("svg.help")){w=l;break}if(!w){this.setupHelpButtonObserver(),setTimeout(()=>{var l;(l=this.settings.helpButtonReplacement)!=null&&l.enabled&&this.updateHelpButton()},500);return}this.customHelpButton&&this.customHelpButton.parentElement&&document.body.contains(this.customHelpButton)&&this.customHelpButton.remove(),this.customHelpButton=void 0;let u=w.cloneNode(!0);u.style.display="",u.removeAttribute("aria-label"),u.setAttribute("data-ui-tweaker-help-replacement","true"),u.classList.add("ui-tweaker-help-replacement"),u.onclick=null;let f=((n=u.querySelector("svg"))==null?void 0:n.parentElement)||u,k=(s=this.settings.helpButtonReplacement)==null?void 0:s.iconId;if(k)try{(0,I.setIcon)(f,k)}catch(l){console.warn("[UI Tweaker] Error setting icon:",l)}else{console.warn('[UI Tweaker] Icon ID is undefined, using default "wrench"');try{(0,I.setIcon)(f,"wrench")}catch(l){console.warn("[UI Tweaker] Error setting default icon:",l)}}u.addEventListener("click",async l=>{var S;l.preventDefault(),l.stopPropagation();let p=(S=this.settings.helpButtonReplacement)==null?void 0:S.commandId;if(p)try{await this.app.commands.executeCommandById(p)}catch(y){console.warn("[UI Tweaker] Error executing command:",y),new I.Notice(`Failed to execute command: ${p}`)}},!0),(r=w.parentElement)==null||r.insertBefore(u,w.nextSibling),this.customHelpButton=u}finally{setTimeout(()=>{var g;(g=this.settings.helpButtonReplacement)!=null&&g.enabled&&this.setupHelpButtonObserver()},1e3)}}setupHelpButtonObserver(){var s;if(this.helpButtonObserver&&this.helpButtonObserver.disconnect(),!((s=this.settings.helpButtonReplacement)!=null&&s.enabled))return;let t=null;this.helpButtonObserver=new MutationObserver(()=>{t&&clearTimeout(t),t=window.setTimeout(()=>{if(!document.querySelector(".workspace-drawer-vault-actions"))return;this.customHelpButton&&this.customHelpButton.parentElement&&document.body.contains(this.customHelpButton)&&this.customHelpButton.hasAttribute("data-ui-tweaker-help-replacement")||(this.customHelpButton&&!document.body.contains(this.customHelpButton)&&(this.customHelpButton=void 0),this.updateHelpButton())},100)});let i=document.querySelector(".workspace-drawer-vault-actions");i&&this.helpButtonObserver.observe(i,{childList:!0,subtree:!0});let n=document.querySelector(".workspace-sidedock-vault-profile");if(n&&this.helpButtonObserver.observe(n,{childList:!0,subtree:!1}),!i&&!n){let r=document.querySelector(".workspace-split");r?this.helpButtonObserver.observe(r,{childList:!0,subtree:!0}):this.helpButtonObserver.observe(document.body,{childList:!0,subtree:!0})}}restoreHelpButton(){var i,n;!(this.settings.helpButton==="hide"||((i=this.settings.helpButtonReplacement)==null?void 0:i.enabled))&&this.helpButtonStyleEl&&(this.helpButtonStyleEl.remove(),this.helpButtonStyleEl=void 0),!((n=this.settings.helpButtonReplacement)!=null&&n.enabled)&&this.customHelpButton&&(document.body.contains(this.customHelpButton)&&this.customHelpButton.remove(),this.customHelpButton=void 0)}};
