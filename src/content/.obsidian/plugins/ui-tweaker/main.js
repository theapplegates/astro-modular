/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var G=Object.create;var O=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var Y=(a,e)=>{for(var t in e)O(a,t,{get:e[t],enumerable:!0})},A=(a,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of z(e))!Q.call(a,i)&&i!==t&&O(a,i,{get:()=>e[i],enumerable:!(n=W(e,i))||n.enumerable});return a};var _=(a,e,t)=>(t=a!=null?G(j(a)):{},A(e||!a||!a.__esModule?O(t,"default",{value:a,enumerable:!0}):t,a)),K=a=>A(O({},"__esModule",{value:!0}),a);var tt={};Y(tt,{default:()=>N});module.exports=K(tt);var H=require("obsidian");var P={titleBar:"show",fileExplorerNavHeader:"show",otherNavHeaders:"show",leftTabHeaders:"show",rightTabHeaders:"show",ribbonRevealOnHover:!1,vaultSwitcher:"show",helpButton:"show",settingsButton:"show",tabBar:!1,enableWindowDragging:!1,newNoteButton:!1,newFolderButton:!1,sortOrderButton:!1,autoRevealButton:!1,collapseAllButton:!1,readingModeButton:!1,searchSettingsButton:!1,tabListIcon:"show",newTabIcon:"show",tabCloseButton:"show",statusBar:!1,scrollBars:!1,leftSidebarToggleButton:"show",rightSidebarToggleButton:"show",tooltips:!1,searchSuggestions:!1,searchTermCounts:!1,propertiesInReadingView:!1,propertiesInHeading:!1,addPropertyButton:!1,instructions:!1,mobileChevronsIcon:!1,navigateBackButton:!1,navigateForwardButton:!1,quickSwitcherButton:!1,mobileNewTabButton:!1,openTabButton:!1,ribbonMenuButton:!1,swapMobileNewTabIcon:!1,hideMobileTitle:!1,hideMobileSyncIcon:!1,navigateButtonPosition:"1",navigationButtonPosition:"2",quickSwitcherPosition:"3",newTabPosition:"4",openTabsPosition:"5",ribbonMenuPosition:"6",vaultSwitcherBackgroundTransparency:.98,helpButtonReplacement:{enabled:!1,commandId:"",iconId:"wrench"},syncButtonReplacement:{enabled:!1,commandId:"",iconId:"wrench"}};var U=require("obsidian");function J(a,e){Object.entries(e).forEach(([t,n])=>{a.style.setProperty(t,String(n))})}var E=class{constructor(e){this.revealListeners=new Map;this.settings=e}updateSettings(e){this.settings=e,this.applyStyles()}detectOS(){return U.Platform.isMacOS?"macos":U.Platform.isWin?"windows":"neutral"}applyStyles(){let e=document.body;if(this.applyVisibilityState(e,"auto-hide-title-bar",this.settings.titleBar,!0),this.applyVisibilityState(e,"auto-hide-file-explorer-nav-header",this.settings.fileExplorerNavHeader),this.applyVisibilityState(e,"auto-hide-other-nav-headers",this.settings.otherNavHeaders),this.applyVisibilityState(e,"auto-hide-left-tab-headers",this.settings.leftTabHeaders),this.applyVisibilityState(e,"auto-hide-right-tab-headers",this.settings.rightTabHeaders),this.applyVisibilityState(e,"auto-hide-vault-switcher",this.settings.vaultSwitcher),this.applyVisibilityState(e,"hider-help-button",this.settings.helpButton),this.applyVisibilityState(e,"auto-hide-settings-button",this.settings.settingsButton),e.classList.toggle("auto-collapse-ribbon",this.settings.ribbonRevealOnHover),e.classList.toggle("hider-tabs",this.settings.tabBar),this.settings.tabBar&&this.settings.enableWindowDragging){let i=this.detectOS();e.classList.remove("enable-window-dragging-windows","enable-window-dragging-macos","enable-window-dragging-neutral"),e.classList.add(`enable-window-dragging-${i}`)}else e.classList.remove("enable-window-dragging-windows","enable-window-dragging-macos","enable-window-dragging-neutral");e.classList.toggle("hide-button-new-note",this.settings.newNoteButton),e.classList.toggle("hide-button-new-folder",this.settings.newFolderButton),e.classList.toggle("hide-button-sort-order",this.settings.sortOrderButton),e.classList.toggle("hide-button-auto-reveal",this.settings.autoRevealButton),e.classList.toggle("hide-button-collapse-all",this.settings.collapseAllButton),e.classList.toggle("hide-button-reading-mode",this.settings.readingModeButton),e.classList.toggle("hide-button-search-settings",this.settings.searchSettingsButton),this.applyVisibilityState(e,"hide-tab-list-icon",this.settings.tabListIcon),this.applyVisibilityState(e,"hide-new-tab-icon",this.settings.newTabIcon),this.applyVisibilityState(e,"hide-tab-close-button",this.settings.tabCloseButton),e.classList.toggle("hider-status",this.settings.statusBar),e.classList.toggle("hider-scroll",this.settings.scrollBars),this.applyVisibilityState(e,"hider-left-sidebar-button",this.settings.leftSidebarToggleButton),this.applyVisibilityState(e,"hider-right-sidebar-button",this.settings.rightSidebarToggleButton),e.classList.toggle("hider-tooltips",this.settings.tooltips),e.classList.toggle("hider-search-suggestions",this.settings.searchSuggestions),e.classList.toggle("hider-search-counts",this.settings.searchTermCounts),e.classList.toggle("hider-meta",this.settings.propertiesInReadingView),e.classList.toggle("metadata-heading-off",this.settings.propertiesInHeading),e.classList.toggle("metadata-add-property-off",this.settings.addPropertyButton),e.classList.toggle("hider-instructions",this.settings.instructions),e.classList.toggle("hide-icon-mobile-chevrons",this.settings.mobileChevronsIcon),e.classList.toggle("hide-button-mobile-navbar-action-back",this.settings.navigateBackButton),e.classList.toggle("hide-button-mobile-navbar-action-forward",this.settings.navigateForwardButton),e.classList.toggle("hide-button-mobile-navbar-action-quick-switcher",this.settings.quickSwitcherButton),e.classList.toggle("hide-button-mobile-navbar-action-new-tab",this.settings.mobileNewTabButton),e.classList.toggle("hide-button-mobile-navbar-action-tabs",this.settings.openTabButton),e.classList.toggle("hide-button-mobile-navbar-action-menu",this.settings.ribbonMenuButton),e.classList.toggle("swap-mobile-new-tab-icon",this.settings.swapMobileNewTabIcon),e.classList.toggle("hide-mobile-title",this.settings.hideMobileTitle),e.classList.toggle("hide-mobile-sync-icon",this.settings.hideMobileSyncIcon),Array.from(e.classList).filter(i=>i.startsWith("order-navbar-button-nth-child-")).forEach(i=>e.classList.remove(i)),e.classList.add(`order-navbar-button-nth-child-1-${this.settings.navigateButtonPosition}`),e.classList.add(`order-navbar-button-nth-child-2-${this.settings.navigationButtonPosition}`),e.classList.add(`order-navbar-button-nth-child-3-${this.settings.quickSwitcherPosition}`),e.classList.add(`order-navbar-button-nth-child-4-${this.settings.newTabPosition}`),e.classList.add(`order-navbar-button-nth-child-5-${this.settings.openTabsPosition}`),e.classList.add(`order-navbar-button-nth-child-6-${this.settings.ribbonMenuPosition}`);let n=this.settings.vaultSwitcherBackgroundTransparency>=1?"none":"linear-gradient(to top, hsl(0, 0%, 0%) 0%, hsla(0, 0%, 0%, 0.99) 18.4%, hsla(0, 0%, 0%, 0.963) 33.7%, hsla(0, 0%, 0%, 0.92) 46.4%, hsla(0, 0%, 0%, 0.864) 56.7%, hsla(0, 0%, 0%, 0.796) 64.8%, hsla(0, 0%, 0%, 0.72) 71.2%, hsla(0, 0%, 0%, 0.637) 76.1%, hsla(0, 0%, 0%, 0.55) 79.9%, hsla(0, 0%, 0%, 0.46) 82.8%, hsla(0, 0%, 0%, 0.37) 85.2%, hsla(0, 0%, 0%, 0.283) 87.3%, hsla(0, 0%, 0%, 0.2) 89.6%, hsla(0, 0%, 0%, 0.124) 92.3%, hsla(0, 0%, 0%, 0.056) 95.6%, hsla(0, 0%, 0%, 0) 100%)";J(e,{"--auto-hide-vault-switcher-bg-transparency":String(this.settings.vaultSwitcherBackgroundTransparency),"--auto-hide-vault-switcher-mask":n})}applyVisibilityState(e,t,n,i=!1){i?e.classList.remove("always-show-title-bar",`${t}-hide`,`${t}-reveal`):e.classList.remove(`${t}-show`,`${t}-hide`,`${t}-reveal`),n==="show"?i&&e.classList.add("always-show-title-bar"):n==="hide"?e.classList.add(`${t}-hide`):n==="reveal"&&e.classList.add(`${t}-reveal`)}cleanup(){this.revealListeners.forEach(n=>n()),this.revealListeners.clear();let e=document.body,t=[];e.classList.forEach(n=>{(n.startsWith("ui-tweaker-")||n.startsWith("auto-hide-")||n.startsWith("hider-")||n.startsWith("hide-")||n.startsWith("metadata-")||n.startsWith("order-navbar-button-")||n.startsWith("enable-window-dragging-")||n==="auto-collapse-ribbon"||n==="swap-mobile-new-tab-icon"||n==="always-show-title-bar")&&t.push(n)}),t.forEach(n=>e.classList.remove(n)),e.style.removeProperty("--auto-hide-vault-switcher-bg-transparency"),e.style.removeProperty("--auto-hide-vault-switcher-mask")}};function q(a){let{plugin:e,settings:t,saveSettings:n,refresh:i}=a;r(e,"toggle-title-bar","Toggle title bar",async()=>{t.titleBar=y(t.titleBar),await n(),i()}),r(e,"toggle-file-explorer-nav-header","Toggle file explorer navigation header",async()=>{t.fileExplorerNavHeader=y(t.fileExplorerNavHeader),await n(),i()}),r(e,"toggle-other-nav-headers","Toggle other navigation headers",async()=>{t.otherNavHeaders=y(t.otherNavHeaders),await n(),i()}),r(e,"toggle-left-tab-headers","Toggle left tab headers",async()=>{t.leftTabHeaders=y(t.leftTabHeaders),await n(),i()}),r(e,"toggle-right-tab-headers","Toggle right tab headers",async()=>{t.rightTabHeaders=y(t.rightTabHeaders),await n(),i()}),r(e,"toggle-vault-switcher","Toggle vault switcher",async()=>{t.vaultSwitcher=y(t.vaultSwitcher),await n(),i()}),r(e,"toggle-help-button","Toggle help button",async()=>{t.helpButton=y(t.helpButton),await n(),i()}),r(e,"toggle-settings-button","Toggle settings button",async()=>{t.settingsButton=y(t.settingsButton),await n(),i()}),e.addCommand({id:"open-settings",name:"Open settings",callback:()=>{var g,h;let o=e.app.setting;if(o){(g=o.open)==null||g.call(o);let p=e;(h=p.settingTab)!=null&&h.id&&o.openTabById&&o.openTabById(p.settingTab.id)}}}),r(e,"toggle-tab-bar","Toggle tab bar",async()=>{t.tabBar=!t.tabBar,await n(),i()}),r(e,"toggle-new-note-button","Toggle new note button",async()=>{t.newNoteButton=!t.newNoteButton,await n(),i()}),r(e,"toggle-new-folder-button","Toggle new folder button",async()=>{t.newFolderButton=!t.newFolderButton,await n(),i()}),r(e,"toggle-sort-order-button","Toggle sort order button",async()=>{t.sortOrderButton=!t.sortOrderButton,await n(),i()}),r(e,"toggle-auto-reveal-button","Toggle auto reveal button",async()=>{t.autoRevealButton=!t.autoRevealButton,await n(),i()}),r(e,"toggle-collapse-all-button","Toggle collapse all button",async()=>{t.collapseAllButton=!t.collapseAllButton,await n(),i()}),r(e,"toggle-reading-mode-button","Toggle reading mode button",async()=>{t.readingModeButton=!t.readingModeButton,await n(),i()}),r(e,"toggle-search-settings-button","Toggle search settings button",async()=>{t.searchSettingsButton=!t.searchSettingsButton,await n(),i()}),r(e,"toggle-tab-list-icon","Toggle tab list icon",async()=>{t.tabListIcon=y(t.tabListIcon),await n(),i()}),r(e,"toggle-new-tab-icon","Toggle new tab icon",async()=>{t.newTabIcon=y(t.newTabIcon),await n(),i()}),r(e,"toggle-tab-close-button","Toggle tab close button",async()=>{t.tabCloseButton=y(t.tabCloseButton),await n(),i()}),r(e,"toggle-status-bar","Toggle status bar",async()=>{t.statusBar=!t.statusBar,await n(),i()}),r(e,"toggle-scroll-bars","Toggle scroll bars",async()=>{t.scrollBars=!t.scrollBars,await n(),i()}),r(e,"toggle-left-sidebar-toggle-button","Toggle left sidebar toggle button",async()=>{t.leftSidebarToggleButton=y(t.leftSidebarToggleButton),await n(),i()}),r(e,"toggle-right-sidebar-toggle-button","Toggle right sidebar toggle button",async()=>{t.rightSidebarToggleButton=y(t.rightSidebarToggleButton),await n(),i()}),r(e,"toggle-tooltips","Toggle tooltips",async()=>{t.tooltips=!t.tooltips,await n(),i()}),r(e,"toggle-search-suggestions","Toggle search suggestions",async()=>{t.searchSuggestions=!t.searchSuggestions,await n(),i()}),r(e,"toggle-search-term-counts","Toggle search term counts",async()=>{t.searchTermCounts=!t.searchTermCounts,await n(),i()}),r(e,"toggle-properties-reading-view","Toggle properties in Reading view",async()=>{t.propertiesInReadingView=!t.propertiesInReadingView,await n(),i()}),r(e,"toggle-properties-heading","Toggle properties heading",async()=>{t.propertiesInHeading=!t.propertiesInHeading,await n(),i()}),r(e,"toggle-add-property-button","Toggle add property button",async()=>{t.addPropertyButton=!t.addPropertyButton,await n(),i()}),r(e,"toggle-instructions","Toggle instructions",async()=>{t.instructions=!t.instructions,await n(),i()}),r(e,"toggle-mobile-chevrons-icon","Toggle mobile chevrons icon",async()=>{t.mobileChevronsIcon=!t.mobileChevronsIcon,await n(),i()}),r(e,"toggle-navigate-back-button","Toggle navigate back button",async()=>{t.navigateBackButton=!t.navigateBackButton,await n(),i()}),r(e,"toggle-navigate-forward-button","Toggle navigate forward button",async()=>{t.navigateForwardButton=!t.navigateForwardButton,await n(),i()}),r(e,"toggle-quick-switcher-button","Toggle quick switcher button",async()=>{t.quickSwitcherButton=!t.quickSwitcherButton,await n(),i()}),r(e,"toggle-mobile-new-tab-button","Toggle mobile new tab button",async()=>{t.mobileNewTabButton=!t.mobileNewTabButton,await n(),i()}),r(e,"toggle-open-tab-button","Toggle open tab button",async()=>{t.openTabButton=!t.openTabButton,await n(),i()}),r(e,"toggle-ribbon-menu-button","Toggle ribbon menu button",async()=>{t.ribbonMenuButton=!t.ribbonMenuButton,await n(),i()})}function r(a,e,t,n){a.addCommand({id:e,name:t,callback:n})}function y(a){return a==="reveal"||a==="show"?"hide":"show"}var $=require("obsidian");var D=require("obsidian"),L=class extends D.FuzzySuggestModal{constructor(t,n){super(t);this.onSelect=n}getItems(){let t=this.app.commands,n=new Map;if(t&&typeof t.listCommands=="function")try{let i=t.listCommands();for(let s of i)s&&s.id&&s.name&&!n.has(s.id)&&n.set(s.id,{id:s.id,name:s.name})}catch(i){console.warn("[UI Tweaker] Error getting commands:",i)}return Array.from(n.values()).sort((i,s)=>i.name.localeCompare(s.name))}getItemText(t){return t.name}onChooseItem(t){this.onSelect(t.id)}};var T=require("obsidian"),X=()=>{if(T.requireApiVersion&&(0,T.requireApiVersion)("1.7.3")&&T.getIconIds)try{return(0,T.getIconIds)()}catch(a){console.warn("[UI Tweaker] Error getting icon IDs from Obsidian:",a)}return["settings-2","settings","help-circle","info","star","heart","bookmark","home","search","bell","mail","user","users","folder","file","file-text","image","video","music","calendar","clock","edit","pencil","trash","copy","cut","paste","download","upload","save","share","link","external-link","lock","unlock","eye","eye-off","key","shield","check","x","plus","minus","arrow-left","arrow-right","arrow-up","arrow-down","chevron-left","chevron-right","chevron-up","chevron-down","menu","more-horizontal","more-vertical","grid","list","layout","columns","rows","maximize","minimize","zoom-in","zoom-out","refresh-cw","play","pause","stop","sun","moon","cloud","zap","wand-2","wand","wand-sparkles","palette","brush","sliders","power","wifi","bluetooth","monitor","laptop","smartphone","camera","mic","headphones","code","terminal","terminal-square","github","gitlab","git-branch","git-commit","database","server","cloud-download","cloud-upload","tag","tags","flag","pin","map-pin","compass","globe","rocket","car","bike","robot","apple","windows","linux","chrome","firefox","safari","credit-card","wallet","coins","book","book-open","award","trophy","badge","wrench","tool","package","box","archive","send","reply","forward","mail-open","tag-plus","tag-minus","flag-off","pin-off","map-pin-off","navigation","map","earth","plane","ship","anchor","helicopter","drone","android","keyhole","keys","fingerprint","scan","qr-code","barcode","receipt","piggy-bank","banknote"]},Z=X().map(a=>({id:a,name:a.replace(/^lucide-/,"").replace(/-/g," ").replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())})).sort((a,e)=>a.name.localeCompare(e.name)),M=class extends T.FuzzySuggestModal{constructor(t,n){super(t);this.onSelect=n}getItems(){return Z}getItemText(t){return t.name}onChooseItem(t,n){this.onSelect(t.id)}renderSuggestion(t,n){let i=t.item;n.addClass("mod-complex"),n.createDiv({cls:"suggestion-content"}).createDiv({cls:"suggestion-title",text:i.name});let o=n.createDiv({cls:"suggestion-aux"});(0,T.setIcon)(o.createSpan({cls:"suggestion-flair"}),i.id)}};var V=require("obsidian"),F=_(require("obsidian"));function I(a,e){if((0,V.requireApiVersion)("1.11.0")){let t=F.SettingGroup;if(t){let n=e?new t(a).setHeading(e):new t(a);return{addSetting(i){n.addSetting(i)}}}}return e&&a.createDiv("setting-group-heading").createEl("h3",{text:e}),{addSetting(t){let n=new V.Setting(a);t(n)}}}var x=class extends $.PluginSettingTab{constructor(t,n){super(t,n);this.plugin=n}display(){var k,u;let{containerEl:t}=this;t.empty();let n=I(t);this.addVisibilitySetting(n,"Title bar","Hide title bar until hover. Turn off to always show.","titleBar"),this.addVisibilitySetting(n,"File explorer nav header","Hide file explorer navigation header until hover. Elegantly reveals on hover.","fileExplorerNavHeader"),this.addVisibilitySetting(n,"Other nav headers","Hide navigation headers for tag, backlinks, outgoing links, outline, and bookmarks panes until hover.","otherNavHeaders"),this.addVisibilitySetting(n,"Left tab headers","Hide left panel tab headers until hover. Elegantly reveals on hover.","leftTabHeaders"),this.addVisibilitySetting(n,"Right tab headers","Hide right panel tab headers until hover. Elegantly reveals on hover.","rightTabHeaders"),n.addSetting(v=>v.setName("Collapse ribbon").setDesc("Collapse the left ribbon to a thin strip until hover. Elegantly expands on hover.").addToggle(w=>w.setValue(this.plugin.settings.ribbonRevealOnHover).onChange(b=>{this.plugin.settings.ribbonRevealOnHover=b,this.plugin.saveSettings(),this.plugin.refresh()})));let i=I(t,"Navigation");this.addToggleSetting(i,"Hide tab bar","Hides the tab container at the top of the window.","tabBar"),this.addToggleSetting(i,"Make top of window draggable without tab bar",'Enables window dragging from the top of the window when the tab bar is hidden. Only works when "Hide tab bar" is enabled.',"enableWindowDragging"),this.addToggleSetting(i,'Hide "New note" button','Hide "New note" button in navigation headers.',"newNoteButton"),this.addToggleSetting(i,'Hide "New folder" button','Hide "New folder" button in navigation headers.',"newFolderButton"),this.addToggleSetting(i,'Hide "Sort order" button','Hide "Sort order" button in navigation headers.',"sortOrderButton"),this.addToggleSetting(i,'Hide "Auto-reveal" button','Hide "Auto-reveal" button in navigation headers.',"autoRevealButton"),this.addToggleSetting(i,'Hide "Collapse all" button','Hide "Collapse all" button in navigation headers.',"collapseAllButton"),this.addToggleSetting(i,'Hide "Reading mode" button','Hide "Reading mode" button in view headers.',"readingModeButton"),this.addToggleSetting(i,'Hide "Search settings" button','Hide "Search settings" button in search pane.',"searchSettingsButton");let s=I(t,"Vault profile area");if(this.addVisibilitySetting(s,"Vault switcher","Hide vault switcher until hover. Does not work when vault name is hidden.","vaultSwitcher"),this.addVisibilitySetting(s,"Help button","Hide help button until hover. Elegantly reveals on hover.","helpButton"),this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!1,commandId:"",iconId:"wrench"}),s.addSetting(v=>v.setName("Replace help button with custom action").setDesc("Replace the help button with a custom icon and command. This will hide the original help button and show your custom button instead.").addToggle(w=>w.setValue(this.plugin.settings.helpButtonReplacement.enabled).onChange(b=>{this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),this.plugin.settings.helpButtonReplacement.enabled=b,this.plugin.saveSettings(),this.plugin.refresh();let f=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,d=(f==null?void 0:f.scrollTop)||0;this.display(),requestAnimationFrame(()=>{f&&(f.scrollTop=d)})}))),(k=this.plugin.settings.helpButtonReplacement)!=null&&k.enabled){let w=(d=>{if(!d)return"Select command...";try{let m=this.app.commands;if(m&&typeof m.listCommands=="function"){let B=m.listCommands().find(c=>c&&c.name&&(c.id===d||c.id===d.replace(/^ui-tweaker:+/g,"")||c.id===`ui-tweaker:${d.replace(/^ui-tweaker:+/g,"")}`));if(B!=null&&B.name)return B.name}}catch(m){console.warn("[UI Tweaker] Error getting command name:",m)}return"Select command..."})(this.plugin.settings.helpButtonReplacement.commandId);s.addSetting(d=>d.setName("Command").setDesc("Select the command to execute when the button is clicked").addButton(m=>m.setButtonText(w||"Select command...").onClick(()=>{new L(this.app,B=>{this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),this.plugin.settings.helpButtonReplacement.commandId=B,this.plugin.saveSettings(),this.plugin.refresh();let c=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,R=(c==null?void 0:c.scrollTop)||0;this.display(),requestAnimationFrame(()=>{c&&(c.scrollTop=R)})}).open()})));let f=(d=>d?d.replace(/^lucide-/,"").split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "):"")(this.plugin.settings.helpButtonReplacement.iconId);s.addSetting(d=>d.setName("Icon").setDesc("Select the icon to display on the button").addButton(m=>m.setButtonText(f||"Select icon...").onClick(()=>{new M(this.app,B=>{this.plugin.settings.helpButtonReplacement||(this.plugin.settings.helpButtonReplacement={enabled:!0,commandId:"open-settings",iconId:"wrench"}),this.plugin.settings.helpButtonReplacement.iconId=B,this.plugin.saveSettings(),this.plugin.refresh();let c=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,R=(c==null?void 0:c.scrollTop)||0;this.display(),requestAnimationFrame(()=>{c&&(c.scrollTop=R)})}).open()})))}this.addVisibilitySetting(s,"Settings button","Hide settings button until hover. Elegantly reveals on hover.","settingsButton"),s.addSetting(v=>v.setName("Vault switcher background transparency").setDesc("Adjust the transparency of the vault switcher background when hidden. Range: 0 (fully transparent) to 1 (fully opaque).").addSlider(w=>w.setLimits(0,1,.01).setValue(this.plugin.settings.vaultSwitcherBackgroundTransparency).setDynamicTooltip().onChange(b=>{this.plugin.settings.vaultSwitcherBackgroundTransparency=b,this.plugin.saveSettings(),this.plugin.refresh()})));let o=I(t,"Tab icons");this.addVisibilitySetting(o,"Hide tab list icon","Hides the tab list icon. You can still access tabs via other methods.","tabListIcon"),this.addVisibilitySetting(o,"Hide new tab icon","Hides the new tab icon. You can still create new tabs with Ctrl+T (Cmd+T on Mac).","newTabIcon"),this.addVisibilitySetting(o,"Hide tab close button","Hides the close button on tabs. You can still close tabs with middle click or other methods.","tabCloseButton");let g=I(t,"Status & UI elements");this.addToggleSetting(g,"Hide status bar","Hides word count, character count and backlink count.","statusBar"),this.addToggleSetting(g,"Hide scroll bars","Hides all scroll bars.","scrollBars"),this.addVisibilitySetting(g,"Hide left sidebar toggle button","Hides the left sidebar toggle button.","leftSidebarToggleButton"),this.addVisibilitySetting(g,"Hide right sidebar toggle button","Hides the right sidebar toggle button.","rightSidebarToggleButton"),this.addToggleSetting(g,"Hide tooltips","Hides all tooltips.","tooltips"),this.addToggleSetting(g,"Hide instructions","Hides instructional tips in modals.","instructions");let h=I(t,"Search");this.addToggleSetting(h,"Hide search suggestions","Hides suggestions in search pane.","searchSuggestions"),this.addToggleSetting(h,"Hide count of search term matches","Hides the number of matches within each search result.","searchTermCounts");let p=I(t,"Properties");this.addToggleSetting(p,"Hide properties in Reading view","Hides the properties section in Reading view.","propertiesInReadingView"),this.addToggleSetting(p,"Hide properties heading",'Hide "Properties" heading above properties.',"propertiesInHeading"),this.addToggleSetting(p,'Hide "Add property" button','Hide "Add property" button below properties.',"addPropertyButton");let l=I(t,"Mobile");if(this.addToggleSetting(l,'Hide "Mobile chevrons" icon','Hide "Mobile chevrons" icon (long-press flair) in mobile navbar.',"mobileChevronsIcon"),this.addToggleSetting(l,'Hide "Navigate back" button','Hide "Navigate back" button in mobile navbar.',"navigateBackButton"),this.addToggleSetting(l,'Hide "Navigate forward" button','Hide "Navigate forward" button in mobile navbar.',"navigateForwardButton"),this.addToggleSetting(l,'Hide "Quick switcher" button','Hide "Quick switcher" button in mobile navbar.',"quickSwitcherButton"),this.addToggleSetting(l,'Hide "New tab" button','Hide "New tab" button in mobile navbar.',"mobileNewTabButton"),this.addToggleSetting(l,'Hide "Open tabs" button','Hide "Open tabs" button in mobile navbar.',"openTabButton"),this.addToggleSetting(l,'Hide "Ribbon menu" button','Hide "Ribbon menu" button in mobile navbar.',"ribbonMenuButton"),this.addToggleSetting(l,"Swap mobile new tab icon","Replace the new tab plus icon with a home button icon in mobile navbar.","swapMobileNewTabIcon"),this.addToggleSetting(l,"Hide title","Hide the title in mobile view headers.","hideMobileTitle"),this.addToggleSetting(l,"Hide sync icon","Hide sync status icons in mobile interface.","hideMobileSyncIcon"),this.plugin.settings.syncButtonReplacement||(this.plugin.settings.syncButtonReplacement={enabled:!1,commandId:"open-settings",iconId:"wrench"}),l.addSetting(v=>v.setName("Replace sync button with custom action").setDesc("Replace the sync button in the mobile sidebar with a custom icon and command. This will hide the original sync button and show your custom button instead.").addToggle(w=>w.setValue(this.plugin.settings.syncButtonReplacement.enabled).onChange(b=>{this.plugin.settings.syncButtonReplacement||(this.plugin.settings.syncButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),this.plugin.settings.syncButtonReplacement.enabled=b,this.plugin.saveSettings(),this.plugin.refresh();let f=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,d=(f==null?void 0:f.scrollTop)||0;this.display(),requestAnimationFrame(()=>{f&&(f.scrollTop=d)})}))),(u=this.plugin.settings.syncButtonReplacement)!=null&&u.enabled){let w=(d=>{if(!d)return"Select command...";try{let m=this.app.commands;if(m&&typeof m.listCommands=="function"){let B=m.listCommands().find(c=>c&&c.name&&(c.id===d||c.id===d.replace(/^ui-tweaker:+/g,"")||c.id===`ui-tweaker:${d.replace(/^ui-tweaker:+/g,"")}`));if(B!=null&&B.name)return B.name}}catch(m){console.warn("[UI Tweaker] Error getting command name:",m)}return"Select command..."})(this.plugin.settings.syncButtonReplacement.commandId);l.addSetting(d=>d.setName("Command").setDesc("Select the command to execute when the button is clicked").addButton(m=>m.setButtonText(w||"Select command...").onClick(()=>{new L(this.app,B=>{this.plugin.settings.syncButtonReplacement||(this.plugin.settings.syncButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),this.plugin.settings.syncButtonReplacement.commandId=B,this.plugin.saveSettings(),this.plugin.refresh();let c=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,R=(c==null?void 0:c.scrollTop)||0;this.display(),requestAnimationFrame(()=>{c&&(c.scrollTop=R)})}).open()})));let f=(d=>d?d.replace(/^lucide-/,"").split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "):"")(this.plugin.settings.syncButtonReplacement.iconId);l.addSetting(d=>d.setName("Icon").setDesc("Select the icon to display on the button").addButton(m=>m.setButtonText(f||"Select icon...").onClick(()=>{new M(this.app,B=>{this.plugin.settings.syncButtonReplacement||(this.plugin.settings.syncButtonReplacement={enabled:!0,commandId:"open-settings",iconId:"wrench"}),this.plugin.settings.syncButtonReplacement.iconId=B,this.plugin.saveSettings(),this.plugin.refresh();let c=t.closest(".vertical-tab-content")||t.closest(".settings-content")||t.parentElement,R=(c==null?void 0:c.scrollTop)||0;this.display(),requestAnimationFrame(()=>{c&&(c.scrollTop=R)})}).open()})))}let S=I(t,"Mobile navigation menu");this.addPositionSetting(S,'"Navigate back" button position','Select the position for the "Navigate back" button (default 1).',"navigateButtonPosition"),this.addPositionSetting(S,'"Navigate forward" button position','Select the position for the "Navigate forward" button (default 2).',"navigationButtonPosition"),this.addPositionSetting(S,'"Quick switcher" button position','Select the position for the "Quick switcher" button (default 3).',"quickSwitcherPosition"),this.addPositionSetting(S,'"New tab" button position','Select the position for the "New tab" button (default 4).',"newTabPosition"),this.addPositionSetting(S,'"Open tabs" button position','Select the position for the "Open tabs" button (default 5).',"openTabsPosition"),this.addPositionSetting(S,'"Ribbon menu" button position','Select the position for the "Ribbon menu" button (default 6).',"ribbonMenuPosition")}addVisibilitySetting(t,n,i,s){t.addSetting(o=>o.setName(n).setDesc(i).addDropdown(g=>{let h=this.plugin.settings[s],p=typeof h=="string"?h:"show";g.addOption("show","Show").addOption("hide","Hide").addOption("reveal","Reveal").setValue(p).onChange(l=>{this.plugin.settings[s]=l,this.plugin.saveSettings(),this.plugin.refresh()})}))}addToggleSetting(t,n,i,s){t.addSetting(o=>o.setName(n).setDesc(i).addToggle(g=>g.setValue(Boolean(this.plugin.settings[s])).onChange(h=>{this.plugin.settings[s]=h,this.plugin.saveSettings(),this.plugin.refresh()})))}addPositionSetting(t,n,i,s){t.addSetting(o=>o.setName(n).setDesc(i).addDropdown(g=>{for(let l=1;l<=6;l++)g.addOption(String(l),String(l));let h=this.plugin.settings[s],p=typeof h=="string"?h:"1";g.setValue(p).onChange(l=>{this.plugin.settings[s]=l,this.plugin.saveSettings(),this.plugin.refresh()})}))}};var N=class extends H.Plugin{async onload(){await this.loadSettings(),this.uiManager=new E(this.settings),this.uiManager.applyStyles(),q({plugin:this,settings:this.settings,saveSettings:()=>this.saveSettings(),refresh:()=>this.refresh()}),this.settingTab=new x(this.app,this),this.addSettingTab(this.settingTab),this.setupHelpButtonReplacement(),this.setupSyncButtonReplacement()}onunload(){this.uiManager&&this.uiManager.cleanup(),this.restoreHelpButton(),this.helpButtonObserver&&this.helpButtonObserver.disconnect(),this.restoreSyncButton(),this.syncButtonObserver&&this.syncButtonObserver.disconnect()}async loadSettings(){var t,n;try{this.settings=Object.assign({},P,await this.loadData()),this.settings.helpButtonReplacement?(this.settings.helpButtonReplacement.iconId||(this.settings.helpButtonReplacement.iconId="wrench"),(t=this.settings.helpButtonReplacement.commandId)!=null&&t.startsWith("ui-tweaker:")&&(this.settings.helpButtonReplacement.commandId=this.settings.helpButtonReplacement.commandId.replace(/^ui-tweaker:+/g,""),await this.saveSettings())):this.settings.helpButtonReplacement={enabled:!1,commandId:"",iconId:"settings-2"},this.settings.syncButtonReplacement?(this.settings.syncButtonReplacement.iconId||(this.settings.syncButtonReplacement.iconId="wrench"),(n=this.settings.syncButtonReplacement.commandId)!=null&&n.startsWith("ui-tweaker:")&&(this.settings.syncButtonReplacement.commandId=this.settings.syncButtonReplacement.commandId.replace(/^ui-tweaker:+/g,""),await this.saveSettings())):this.settings.syncButtonReplacement={enabled:!1,commandId:"",iconId:"wrench"}}catch(i){console.error("[UI Tweaker] Failed to load settings:",i),this.settings={...P}}}async saveSettings(){await this.saveData(this.settings)}refresh(){this.uiManager&&this.uiManager.updateSettings(this.settings),this.setupHelpButtonReplacement(),this.setupSyncButtonReplacement()}setupHelpButtonReplacement(){var n;if(!((n=this.settings.helpButtonReplacement)!=null&&n.enabled)){this.restoreHelpButton();return}this.updateHelpButtonCSS();let t=()=>{var i;(i=this.settings.helpButtonReplacement)!=null&&i.enabled&&this.updateHelpButton()};t(),setTimeout(t,500),setTimeout(()=>{this.setupHelpButtonObserver()},1e3)}updateHelpButtonCSS(){var n;let t=this.settings.helpButton==="hide"||((n=this.settings.helpButtonReplacement)==null?void 0:n.enabled);document.body.classList.toggle("ui-tweaker-hide-help-button",t)}async updateHelpButton(){var t,n,i,s,o;if(!((t=this.settings.helpButtonReplacement)!=null&&t.enabled)){this.restoreHelpButton();return}this.helpButtonObserver&&this.helpButtonObserver.disconnect(),await this.loadSettings(),this.updateHelpButtonCSS();try{if(!((n=this.settings.helpButtonReplacement)!=null&&n.enabled)){this.restoreHelpButton();return}let g=document.querySelector(".workspace-drawer-vault-actions");if(!g){this.setupHelpButtonObserver(),setTimeout(()=>{var u;(u=this.settings.helpButtonReplacement)!=null&&u.enabled&&this.updateHelpButton()},500);return}let h=Array.from(g.querySelectorAll(".clickable-icon")),p=null;for(let u of h)if(u.querySelector("svg.help")){p=u;break}if(!p){this.setupHelpButtonObserver(),setTimeout(()=>{var u;(u=this.settings.helpButtonReplacement)!=null&&u.enabled&&this.updateHelpButton()},500);return}this.customHelpButton&&this.customHelpButton.parentElement&&document.body.contains(this.customHelpButton)&&this.customHelpButton.remove(),this.customHelpButton=void 0;let l=p.cloneNode(!0);l.removeAttribute("aria-label"),l.setAttribute("data-ui-tweaker-help-replacement","true"),l.classList.add("ui-tweaker-help-replacement"),l.onclick=null;let S=((i=l.querySelector("svg"))==null?void 0:i.parentElement)||l,k=(s=this.settings.helpButtonReplacement)==null?void 0:s.iconId;if(k)try{(0,H.setIcon)(S,k)}catch(u){console.warn("[UI Tweaker] Error setting icon:",u)}else{console.warn('[UI Tweaker] Icon ID is undefined, using default "wrench"');try{(0,H.setIcon)(S,"wrench")}catch(u){console.warn("[UI Tweaker] Error setting default icon:",u)}}l.addEventListener("click",u=>{var w;u.preventDefault(),u.stopPropagation();let v=(w=this.settings.helpButtonReplacement)==null?void 0:w.commandId;v&&(async()=>{try{let b=this.app.commands;if(b!=null&&b.executeCommandById)await b.executeCommandById(v);else throw new Error("Command execution not available")}catch(b){console.warn("[UI Tweaker] Error executing command:",b),new H.Notice(`Failed to execute command: ${v}`)}})()},!0),(o=p.parentElement)==null||o.insertBefore(l,p.nextSibling),this.customHelpButton=l}finally{setTimeout(()=>{var g;(g=this.settings.helpButtonReplacement)!=null&&g.enabled&&this.setupHelpButtonObserver()},1e3)}}setupHelpButtonObserver(){var s;if(this.helpButtonObserver&&this.helpButtonObserver.disconnect(),!((s=this.settings.helpButtonReplacement)!=null&&s.enabled))return;let t=null;this.helpButtonObserver=new MutationObserver(()=>{t&&clearTimeout(t),t=window.setTimeout(()=>{if(!document.querySelector(".workspace-drawer-vault-actions"))return;this.customHelpButton&&this.customHelpButton.parentElement&&document.body.contains(this.customHelpButton)&&this.customHelpButton.hasAttribute("data-ui-tweaker-help-replacement")||(this.customHelpButton&&!document.body.contains(this.customHelpButton)&&(this.customHelpButton=void 0),this.updateHelpButton())},100)});let n=document.querySelector(".workspace-drawer-vault-actions");n&&this.helpButtonObserver.observe(n,{childList:!0,subtree:!0});let i=document.querySelector(".workspace-sidedock-vault-profile");if(i&&this.helpButtonObserver.observe(i,{childList:!0,subtree:!1}),!n&&!i){let o=document.querySelector(".workspace-split");o?this.helpButtonObserver.observe(o,{childList:!0,subtree:!0}):this.helpButtonObserver.observe(document.body,{childList:!0,subtree:!0})}}restoreHelpButton(){var n,i;this.settings.helpButton==="hide"||((n=this.settings.helpButtonReplacement)==null?void 0:n.enabled)||document.body.classList.remove("ui-tweaker-hide-help-button"),!((i=this.settings.helpButtonReplacement)!=null&&i.enabled)&&this.customHelpButton&&(document.body.contains(this.customHelpButton)&&this.customHelpButton.remove(),this.customHelpButton=void 0)}setupSyncButtonReplacement(){var n;if(!((n=this.settings.syncButtonReplacement)!=null&&n.enabled)){this.restoreSyncButton();return}this.updateSyncButtonCSS();let t=()=>{var i;(i=this.settings.syncButtonReplacement)!=null&&i.enabled&&this.updateSyncButton()};t(),setTimeout(t,500),setTimeout(()=>{this.setupSyncButtonObserver()},1e3)}updateSyncButtonCSS(){var t,n;document.body.classList.toggle("ui-tweaker-hide-sync-button",(n=(t=this.settings.syncButtonReplacement)==null?void 0:t.enabled)!=null?n:!1)}async updateSyncButton(){var t,n,i,s;if(!((t=this.settings.syncButtonReplacement)!=null&&t.enabled)){this.restoreSyncButton();return}this.syncButtonObserver&&this.syncButtonObserver.disconnect(),await this.loadSettings(),this.updateSyncButtonCSS();try{if(!((n=this.settings.syncButtonReplacement)!=null&&n.enabled)){this.restoreSyncButton();return}let o=null,g=document.querySelector(".workspace-drawer.mod-right");if(g){let u=g.querySelector(".workspace-drawer-header");if(u){if(o=u.querySelector('.workspace-drawer-header-icon.mod-sync, .workspace-drawer-header-icon[class*="sync"]'),!o){let v=Array.from(u.querySelectorAll(".workspace-drawer-header-icon.clickable-icon"));for(let w of v)if(w.querySelector("svg.lucide-cloud, svg.lucide-cloud-off")){o=w;break}}if(!o){let v=Array.from(u.querySelectorAll(".clickable-icon"));for(let w of v)if(w.querySelector("svg.lucide-cloud, svg.lucide-cloud-off")){o=w;break}}}}if(!o){this.setupSyncButtonObserver(),setTimeout(()=>{var u;(u=this.settings.syncButtonReplacement)!=null&&u.enabled&&this.updateSyncButton()},500);return}this.customSyncButton&&this.customSyncButton.parentElement&&document.body.contains(this.customSyncButton)&&this.customSyncButton.remove(),this.customSyncButton=void 0;let h=o.cloneNode(!0);h.removeAttribute("aria-label"),h.setAttribute("data-ui-tweaker-sync-replacement","true"),h.classList.add("ui-tweaker-sync-replacement"),h.onclick=null;let p=null,l=h.querySelector("svg");l?(p=l.parentElement,l.remove()):p=h,p&&(p.style.display="flex",p.style.alignItems="center",p.style.justifyContent="center");let S=(i=this.settings.syncButtonReplacement)==null?void 0:i.iconId;if(S)try{(0,H.setIcon)(p,S)}catch(u){console.warn("[UI Tweaker] Error setting icon:",u)}else{console.warn('[UI Tweaker] Icon ID is undefined, using default "wrench"');try{(0,H.setIcon)(p,"wrench")}catch(u){console.warn("[UI Tweaker] Error setting default icon:",u)}}h.addEventListener("click",u=>{var w;u.preventDefault(),u.stopPropagation();let v=(w=this.settings.syncButtonReplacement)==null?void 0:w.commandId;v&&(async()=>{try{let b=this.app.commands;if(b!=null&&b.executeCommandById)await b.executeCommandById(v);else throw new Error("Command execution not available")}catch(b){console.warn("[UI Tweaker] Error executing command:",b),new H.Notice(`Failed to execute command: ${v}`)}})()},!0);let k=o.parentElement;k?(k.insertBefore(h,o),o.remove()):(s=o.parentElement)==null||s.insertBefore(h,o.nextSibling),this.customSyncButton=h}finally{setTimeout(()=>{var o;(o=this.settings.syncButtonReplacement)!=null&&o.enabled&&this.setupSyncButtonObserver()},1e3)}}setupSyncButtonObserver(){var i;if(this.syncButtonObserver&&this.syncButtonObserver.disconnect(),!((i=this.settings.syncButtonReplacement)!=null&&i.enabled))return;let t=null;this.syncButtonObserver=new MutationObserver(()=>{t&&clearTimeout(t),t=window.setTimeout(()=>{if(!document.querySelector(".workspace-drawer.mod-right"))return;this.customSyncButton&&this.customSyncButton.parentElement&&document.body.contains(this.customSyncButton)&&this.customSyncButton.hasAttribute("data-ui-tweaker-sync-replacement")||(this.customSyncButton&&!document.body.contains(this.customSyncButton)&&(this.customSyncButton=void 0),this.updateSyncButton())},100)});let n=document.querySelector(".workspace-drawer.mod-right");if(n){this.syncButtonObserver.observe(n,{childList:!0,subtree:!0});let s=n.querySelector(".workspace-drawer-header");s&&this.syncButtonObserver.observe(s,{childList:!0,subtree:!0})}if(!n){let s=document.querySelector(".workspace-split.mod-right-split");s?this.syncButtonObserver.observe(s,{childList:!0,subtree:!0}):this.syncButtonObserver.observe(document.body,{childList:!0,subtree:!0})}}restoreSyncButton(){var t,n;(t=this.settings.syncButtonReplacement)!=null&&t.enabled||document.body.classList.remove("ui-tweaker-hide-sync-button"),!((n=this.settings.syncButtonReplacement)!=null&&n.enabled)&&this.customSyncButton&&(document.body.contains(this.customSyncButton)&&this.customSyncButton.remove(),this.customSyncButton=void 0)}};
